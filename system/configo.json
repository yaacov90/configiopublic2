{"deployments":[{"name":"CONFIGIUS-TEST3","chosenElements":[{"grouptype":"filter","valuetype":"name_is_value","name":"CONFIGIUS","type":"single","subtype":"projects","value":"CONFIGIUS","parentid":123,"myid":0.30660646607465214,"parentName":"projects"},{"grouptype":"filter","valuetype":"name_is_value","name":"FRONTEND","type":"single","subtype":"components","value":"FRONTEND","parentid":456,"myid":0.5313241050609572,"parentName":"components"},{"grouptype":"filter","valuetype":"name_is_value","name":"BACKEND","type":"single","subtype":"components","value":"BACKEND","parentid":456,"myid":0.08261803223214481,"parentName":"components"},{"grouptype":"param","valuetype":"later","name":"ENV_GIT_REPONAME","type":"single","subtype":"params","value":"git@github.com:yaacov90/configius_test1.git","parentid":222,"myid":0.8263169252069942,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_LOG_ACTIVE_SINCE_MINUTES","type":"single","subtype":"params","value":"110","parentid":222,"myid":0.6184907077915354,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_ID","type":"single","subtype":"params","value":"1","parentid":222,"myid":0.16420916896304294,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_TYPE","type":"single","subtype":"params","value":"TEST","parentid":222,"myid":0.7270576245268696,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"GIT_WORK_DIR","type":"single","subtype":"params","value":"/home/cius/action_work_dir/TEST1","parentid":222,"myid":0.5879489380347553,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_NAME","type":"single","subtype":"params","value":"TEST1","parentid":222,"myid":0.8784348392788401,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_fe_035:registry","parentid":222,"myid":0.2803463335802452,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"KUBE_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":222,"myid":0.09920067295341473,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_be_028:registry","parentid":222,"myid":0.7764785493181117,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_PORT","type":"single","subtype":"params","value":"24100","parentid":222,"myid":0.6789386103464252,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_PORT","type":"single","subtype":"params","value":"23100","parentid":222,"myid":0.18085504248919926,"parentName":"params"},{"grouptype":"template","valuetype":"file","name":"configius_kube_deployment.yaml","type":"single","subtype":"templates","value":"apiVersion: v1\nkind: Namespace\nmetadata:\n  labels:\n    app: configius-{{ ENV_NAME }}\n  name: configius-{{ ENV_NAME }}\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-fe\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-fe\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-fe\n    spec:\n      containers:\n      - name: configius-fe\n        image: {{ CONFIGFE_IMAGE }}\n        command: ['sh', '-c', 'echo -e \"{\\n  \\\"CONFIGO_BE_HOST\\\":\\\"{{ KUBE_HOST }}\\\",\\n  \\\"CONFIGO_BE_PORT\\\":\\\"{{ CONFIGBE_PORT }}\\\"\\n}\" > /usr/local/apache2/htdocs/assets/env.txt && /usr/local/apache2/bin/apachectl start && chmod -R 755 /usr/local/apache2/htdocs && while :; do echo \".\"; sleep 5 ; done']\n        imagePullPolicy: IfNotPresent\n        ports:\n        - containerPort: 80\n      restartPolicy: Always\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-be\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-be\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-be\n    spec:\n      containers:\n      - name: configius-be\n        image: {{ CONFIGBE_IMAGE }}\n        imagePullPolicy: IfNotPresent\n        env:\n        - name: ENV_LOG_ACTIVE_SINCE_MINUTES\n          value: \"{{ ENV_LOG_ACTIVE_SINCE_MINUTES }}\"\n        - name: ENV_GIT_WORK_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_REPONAME\n          value: \"{{ ENV_GIT_REPONAME }}\"\n        - name: ENV_GIT_KEY_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_KEY_FILE_NAME\n          value: \"git_key_file\"\n        - name: GIT_SSH_COMMAND\n          value: \"ssh -i /tmp/git_key_file -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no\"\n        ports:\n        - containerPort: 3000\n      restartPolicy: Always\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-fe\nspec:\n  ports:\n    - name: \"4200\"\n      port:  {{ CONFIGFE_PORT }}\n      targetPort: 80\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-fe\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-be\nspec:\n  ports:\n    - name: \"3000\"\n      port: {{ CONFIGBE_PORT }} \n      targetPort: 3000\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-be\n\n","parentid":333,"myid":0.7534749717717639,"parentName":"templates"},{"grouptype":"action","valuetype":"file","name":"deployment.sh","type":"single","subtype":"actions","value":"kubectl apply -f {{ SSH_CONNECTION_WORK_DIR }}/configius_kube_deployment.yaml\necho {{ SSH_CONNECTION_WORK_DIR }} 2\n","parentid":112,"myid":0.4192087004411613,"parentName":"actions"},{"grouptype":"filter","valuetype":"name_is_value","name":"TEST2","type":"single","subtype":"environments","value":"TEST2","parentid":111,"myid":0.5353415708599183,"parentName":"environments"},{"grouptype":"connection","name":"cius","type":"single","subtype":"connections","value":"{\"host\":\"161.97.143.5\",\"username\":\"cius\",\"identity\":\"-----BEGIN OPENSSH PRIVATE KEY-----\\\\n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\\\\nL9H4+f9FcOogcJAAAACnVzZXJAWEhPTUU=\\\\n-----END OPENSSH PRIVATE KEY-----\",\"workdir\":\"/home/cius2/action-work-dir\",\"workdirinstance\":\"\",\"workdirroot\":\"\"}","parentid":444,"myid":0.7012222111937823,"parentName":"connections"}],"compositionElementsInternal":[{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR_ROOT","type":"single","subtype":"params","value":"/home/cius2/action-work-dir","parentid":0.7012222111937823,"myid":0.1292171743323629,"parentName":"cius"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":0.7012222111937823,"myid":0.40452184804338165,"parentName":"cius"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR","type":"single","subtype":"params","value":"/home/cius2/action-work-dir/CONFIGIUS-TEST3","parentid":0.7012222111937823,"myid":0.4939226912914285,"parentName":"cius"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_USER","type":"single","subtype":"params","value":"cius","parentid":0.7012222111937823,"myid":0.1721450011397918,"parentName":"cius"},{"grouptype":"connection","name":"cius","type":"single","subtype":"connections","value":"{\"host\":\"161.97.143.5\",\"username\":\"cius\",\"identity\":\"-----BEGIN OPENSSH PRIVATE KEY-----\\\\n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\\\\nL9H4+f9FcOogcJAAAACnVzZXJAWEhPTUU=\\\\n-----END OPENSSH PRIVATE KEY-----\",\"workdir\":\"/home/cius2/action-work-dir\",\"workdirinstance\":\"\",\"workdirroot\":\"\"}","parentid":444,"myid":0.7012222111937823,"parentName":"connections"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR_ROOT","type":"single","subtype":"params","value":"/home/cius2/action_work_dir","parentid":0.32405552477439836,"myid":0.47997396629225486,"parentName":"cius2"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":0.32405552477439836,"myid":0.840402309315752,"parentName":"cius2"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR","type":"single","subtype":"params","value":"/home/cius2/action_work_dir/CONFIGIUS-TEST3","parentid":0.32405552477439836,"myid":0.8513032481517784,"parentName":"cius2"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_USER","type":"single","subtype":"params","value":"cius2","parentid":0.32405552477439836,"myid":0.5242392343719673,"parentName":"cius2"},{"grouptype":"filter","valuetype":"name_is_value","name":"TEST2","type":"single","subtype":"environments","value":"TEST2","parentid":111,"myid":0.5353415708599183,"parentName":"environments"},{"grouptype":"action","valuetype":"file","name":"deployment.sh","type":"single","subtype":"actions","value":"kubectl apply -f {{ SSH_CONNECTION_WORK_DIR }}/configius_kube_deployment.yaml\necho {{ SSH_CONNECTION_WORK_DIR }} 2\n","parentid":112,"myid":0.4192087004411613,"parentName":"actions"},{"grouptype":"template","valuetype":"file","name":"configius_kube_deployment.yaml","type":"single","subtype":"templates","value":"apiVersion: v1\nkind: Namespace\nmetadata:\n  labels:\n    app: configius-{{ ENV_NAME }}\n  name: configius-{{ ENV_NAME }}\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-fe\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-fe\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-fe\n    spec:\n      containers:\n      - name: configius-fe\n        image: {{ CONFIGFE_IMAGE }}\n        command: ['sh', '-c', 'echo -e \"{\\n  \\\"CONFIGO_BE_HOST\\\":\\\"{{ KUBE_HOST }}\\\",\\n  \\\"CONFIGO_BE_PORT\\\":\\\"{{ CONFIGBE_PORT }}\\\"\\n}\" > /usr/local/apache2/htdocs/assets/env.txt && /usr/local/apache2/bin/apachectl start && chmod -R 755 /usr/local/apache2/htdocs && while :; do echo \".\"; sleep 5 ; done']\n        imagePullPolicy: IfNotPresent\n        ports:\n        - containerPort: 80\n      restartPolicy: Always\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-be\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-be\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-be\n    spec:\n      containers:\n      - name: configius-be\n        image: {{ CONFIGBE_IMAGE }}\n        imagePullPolicy: IfNotPresent\n        env:\n        - name: ENV_LOG_ACTIVE_SINCE_MINUTES\n          value: \"{{ ENV_LOG_ACTIVE_SINCE_MINUTES }}\"\n        - name: ENV_GIT_WORK_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_REPONAME\n          value: \"{{ ENV_GIT_REPONAME }}\"\n        - name: ENV_GIT_KEY_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_KEY_FILE_NAME\n          value: \"git_key_file\"\n        - name: GIT_SSH_COMMAND\n          value: \"ssh -i /tmp/git_key_file -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no\"\n        ports:\n        - containerPort: 3000\n      restartPolicy: Always\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-fe\nspec:\n  ports:\n    - name: \"4200\"\n      port:  {{ CONFIGFE_PORT }}\n      targetPort: 80\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-fe\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-be\nspec:\n  ports:\n    - name: \"3000\"\n      port: {{ CONFIGBE_PORT }} \n      targetPort: 3000\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-be\n\n","parentid":333,"myid":0.7534749717717639,"parentName":"templates"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_PORT","type":"single","subtype":"params","value":"23400","parentid":222,"myid":0.18085504248919926,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_PORT","type":"single","subtype":"params","value":"24400","parentid":222,"myid":0.6789386103464252,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_be_028:registry","parentid":222,"myid":0.7764785493181117,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"KUBE_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":222,"myid":0.09920067295341473,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_fe_035:registry","parentid":222,"myid":0.2803463335802452,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_NAME","type":"single","subtype":"params","value":"test3","parentid":222,"myid":0.8784348392788401,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"GIT_WORK_DIR","type":"single","subtype":"params","value":"/home/cius/action_work_dir/TEST1","parentid":222,"myid":0.5879489380347553,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_TYPE","type":"single","subtype":"params","value":"test","parentid":222,"myid":0.7270576245268696,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_ID","type":"single","subtype":"params","value":"4","parentid":222,"myid":0.16420916896304294,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_LOG_ACTIVE_SINCE_MINUTES","type":"single","subtype":"params","value":"131","parentid":222,"myid":0.6184907077915354,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_GIT_REPONAME","type":"single","subtype":"params","value":"git@github.com:yaacov90/configius_test1.git","parentid":222,"myid":0.8263169252069942,"parentName":"params"},{"grouptype":"filter","valuetype":"name_is_value","name":"BACKEND","type":"single","subtype":"components","value":"BACKEND","parentid":456,"myid":0.08261803223214481,"parentName":"components"},{"grouptype":"filter","valuetype":"name_is_value","name":"FRONTEND","type":"single","subtype":"components","value":"FRONTEND","parentid":456,"myid":0.5313241050609572,"parentName":"components"},{"grouptype":"filter","valuetype":"name_is_value","name":"CONFIGIUS","type":"single","subtype":"projects","value":"CONFIGIUS","parentid":123,"myid":0.30660646607465214,"parentName":"projects"}],"showDetailsInDeployment":false},{"name":"CONFIGIUS-TEST6","chosenElements":[{"grouptype":"filter","valuetype":"name_is_value","name":"CONFIGIUS","type":"single","subtype":"projects","value":"CONFIGIUS","parentid":123,"myid":0.30660646607465214,"parentName":"projects"},{"grouptype":"filter","valuetype":"name_is_value","name":"FRONTEND","type":"single","subtype":"components","value":"FRONTEND","parentid":456,"myid":0.5313241050609572,"parentName":"components"},{"grouptype":"filter","valuetype":"name_is_value","name":"BACKEND","type":"single","subtype":"components","value":"BACKEND","parentid":456,"myid":0.08261803223214481,"parentName":"components"},{"grouptype":"param","valuetype":"later","name":"ENV_GIT_REPONAME","type":"single","subtype":"params","value":"git@github.com:yaacov90/configius_test1.git","parentid":222,"myid":0.8263169252069942,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_LOG_ACTIVE_SINCE_MINUTES","type":"single","subtype":"params","value":"110","parentid":222,"myid":0.6184907077915354,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"GIT_WORK_DIR","type":"single","subtype":"params","value":"/home/cius/action_work_dir/TEST1","parentid":222,"myid":0.5879489380347553,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_NAME","type":"single","subtype":"params","value":"TEST1","parentid":222,"myid":0.8784348392788401,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_fe_035:registry","parentid":222,"myid":0.2803463335802452,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"KUBE_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":222,"myid":0.09920067295341473,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_be_028:registry","parentid":222,"myid":0.7764785493181117,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_PORT","type":"single","subtype":"params","value":"24100","parentid":222,"myid":0.6789386103464252,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_PORT","type":"single","subtype":"params","value":"23100","parentid":222,"myid":0.18085504248919926,"parentName":"params"},{"grouptype":"template","valuetype":"file","name":"configius_kube_deployment.yaml","type":"single","subtype":"templates","value":"apiVersion: v1\nkind: Namespace\nmetadata:\n  labels:\n    app: configius-{{ ENV_NAME }}\n  name: configius-{{ ENV_NAME }}\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-fe\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-fe\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-fe\n    spec:\n      containers:\n      - name: configius-fe\n        image: {{ CONFIGFE_IMAGE }}\n        command: ['sh', '-c', 'echo -e \"{\\n  \\\"CONFIGO_BE_HOST\\\":\\\"{{ KUBE_HOST }}\\\",\\n  \\\"CONFIGO_BE_PORT\\\":\\\"{{ CONFIGBE_PORT }}\\\"\\n}\" > /usr/local/apache2/htdocs/assets/env.txt && /usr/local/apache2/bin/apachectl start && chmod -R 755 /usr/local/apache2/htdocs && while :; do echo \".\"; sleep 5 ; done']\n        imagePullPolicy: IfNotPresent\n        ports:\n        - containerPort: 80\n      restartPolicy: Always\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-be\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-be\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-be\n    spec:\n      containers:\n      - name: configius-be\n        image: {{ CONFIGBE_IMAGE }}\n        imagePullPolicy: IfNotPresent\n        env:\n        - name: ENV_LOG_ACTIVE_SINCE_MINUTES\n          value: \"{{ ENV_LOG_ACTIVE_SINCE_MINUTES }}\"\n        - name: ENV_GIT_WORK_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_REPONAME\n          value: \"{{ ENV_GIT_REPONAME }}\"\n        - name: ENV_GIT_KEY_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_KEY_FILE_NAME\n          value: \"git_key_file\"\n        - name: GIT_SSH_COMMAND\n          value: \"ssh -i /tmp/git_key_file -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no\"\n        ports:\n        - containerPort: 3000\n      restartPolicy: Always\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-fe\nspec:\n  ports:\n    - name: \"4200\"\n      port:  {{ CONFIGFE_PORT }}\n      targetPort: 80\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-fe\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-be\nspec:\n  ports:\n    - name: \"3000\"\n      port: {{ CONFIGBE_PORT }} \n      targetPort: 3000\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-be\n\n","parentid":333,"myid":0.7534749717717639,"parentName":"templates"},{"grouptype":"action","valuetype":"file","name":"deployment.sh","type":"single","subtype":"actions","value":"kubectl apply -f {{ SSH_CONNECTION_WORK_DIR }}/configius_kube_deployment.yaml\necho {{ SSH_CONNECTION_WORK_DIR }} 2\n","parentid":112,"myid":0.4192087004411613,"parentName":"actions"},{"grouptype":"filter","children":[{"grouptype":"filter","valuetype":"name_is_value","name":"TEST1","type":"single","subtype":"environments","value":"TEST1","parentid":111,"myid":0.1719205948423559,"parentName":"environments"},{"grouptype":"filter","valuetype":"name_is_value","name":"TEST2","type":"single","subtype":"environments","value":"TEST2","parentid":111,"myid":0.5353415708599183,"parentName":"environments"}],"name":"test","type":"group","subtype":"environments","parentid":111,"myid":0.7101469960871145},{"grouptype":"filter","valuetype":"name_is_value","name":"TEST6","type":"single","subtype":"environments","value":"TEST6","parentid":111,"myid":0.06542707490257471,"parentName":"environments"},{"grouptype":"connection","name":"cius","type":"single","subtype":"connections","value":"{\"host\":\"161.97.143.5\",\"username\":\"cius\",\"identity\":\"-----BEGIN OPENSSH PRIVATE KEY-----\\\\n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\\\\nL9H4+f9FcOogcJAAAACnVzZXJAWEhPTUU=\\\\n-----END OPENSSH PRIVATE KEY-----\",\"workdir\":\"/home/cius2/action-work-dir\",\"workdirinstance\":\"\",\"workdirroot\":\"\"}","parentid":444,"myid":0.7012222111937823,"parentName":"connections"}],"compositionElementsInternal":[{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR_ROOT","type":"single","subtype":"params","value":"/home/cius2/action-work-dir","parentid":0.7012222111937823,"myid":0.4333904752665587,"parentName":"cius"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":0.7012222111937823,"myid":0.6290898894558379,"parentName":"cius"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR","type":"single","subtype":"params","value":"/home/cius2/action-work-dir/CONFIGIUS-TEST6","parentid":0.7012222111937823,"myid":0.00457073519288409,"parentName":"cius"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_USER","type":"single","subtype":"params","value":"cius","parentid":0.7012222111937823,"myid":0.8539643615493995,"parentName":"cius"},{"grouptype":"connection","name":"cius","type":"single","subtype":"connections","value":"{\"host\":\"161.97.143.5\",\"username\":\"cius\",\"identity\":\"-----BEGIN OPENSSH PRIVATE KEY-----\\\\n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\\\\nL9H4+f9FcOogcJAAAACnVzZXJAWEhPTUU=\\\\n-----END OPENSSH PRIVATE KEY-----\",\"workdir\":\"/home/cius2/action-work-dir\",\"workdirinstance\":\"\",\"workdirroot\":\"\"}","parentid":444,"myid":0.7012222111937823,"parentName":"connections"},{"grouptype":"filter","valuetype":"name_is_value","name":"TEST6","type":"single","subtype":"environments","value":"TEST6","parentid":111,"myid":0.06542707490257471,"parentName":"environments"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR_ROOT","type":"single","subtype":"params","value":"/home/cius2/action_work_dir","parentid":0.32405552477439836,"myid":0.7546615178037368,"parentName":"cius2"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":0.32405552477439836,"myid":0.765355355057838,"parentName":"cius2"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR","type":"single","subtype":"params","value":"/home/cius2/action_work_dir/CONFIGIUS-TEST6","parentid":0.32405552477439836,"myid":0.654743003402511,"parentName":"cius2"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_USER","type":"single","subtype":"params","value":"cius2","parentid":0.32405552477439836,"myid":0.4124500503564996,"parentName":"cius2"},{"grouptype":"action","valuetype":"file","name":"deployment.sh","type":"single","subtype":"actions","value":"kubectl apply -f {{ SSH_CONNECTION_WORK_DIR }}/configius_kube_deployment.yaml\necho {{ SSH_CONNECTION_WORK_DIR }} 2\n","parentid":112,"myid":0.4192087004411613,"parentName":"actions"},{"grouptype":"template","valuetype":"file","name":"configius_kube_deployment.yaml","type":"single","subtype":"templates","value":"apiVersion: v1\nkind: Namespace\nmetadata:\n  labels:\n    app: configius-{{ ENV_NAME }}\n  name: configius-{{ ENV_NAME }}\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-fe\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-fe\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-fe\n    spec:\n      containers:\n      - name: configius-fe\n        image: {{ CONFIGFE_IMAGE }}\n        command: ['sh', '-c', 'echo -e \"{\\n  \\\"CONFIGO_BE_HOST\\\":\\\"{{ KUBE_HOST }}\\\",\\n  \\\"CONFIGO_BE_PORT\\\":\\\"{{ CONFIGBE_PORT }}\\\"\\n}\" > /usr/local/apache2/htdocs/assets/env.txt && /usr/local/apache2/bin/apachectl start && chmod -R 755 /usr/local/apache2/htdocs && while :; do echo \".\"; sleep 5 ; done']\n        imagePullPolicy: IfNotPresent\n        ports:\n        - containerPort: 80\n      restartPolicy: Always\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-be\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-be\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-be\n    spec:\n      containers:\n      - name: configius-be\n        image: {{ CONFIGBE_IMAGE }}\n        imagePullPolicy: IfNotPresent\n        env:\n        - name: ENV_LOG_ACTIVE_SINCE_MINUTES\n          value: \"{{ ENV_LOG_ACTIVE_SINCE_MINUTES }}\"\n        - name: ENV_GIT_WORK_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_REPONAME\n          value: \"{{ ENV_GIT_REPONAME }}\"\n        - name: ENV_GIT_KEY_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_KEY_FILE_NAME\n          value: \"git_key_file\"\n        - name: GIT_SSH_COMMAND\n          value: \"ssh -i /tmp/git_key_file -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no\"\n        ports:\n        - containerPort: 3000\n      restartPolicy: Always\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-fe\nspec:\n  ports:\n    - name: \"4200\"\n      port:  {{ CONFIGFE_PORT }}\n      targetPort: 80\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-fe\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-be\nspec:\n  ports:\n    - name: \"3000\"\n      port: {{ CONFIGBE_PORT }} \n      targetPort: 3000\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-be\n\n","parentid":333,"myid":0.7534749717717639,"parentName":"templates"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_PORT","type":"single","subtype":"params","value":"23600","parentid":222,"myid":0.18085504248919926,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_PORT","type":"single","subtype":"params","value":"24600","parentid":222,"myid":0.6789386103464252,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_be_028:registry","parentid":222,"myid":0.7764785493181117,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"KUBE_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":222,"myid":0.09920067295341473,"parentName":"params"},{"grouptype":"filter","valuetype":"name_is_value","name":"CONFIGIUS","type":"single","subtype":"projects","value":"CONFIGIUS","parentid":123,"myid":0.30660646607465214,"parentName":"projects"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_fe_035:registry","parentid":222,"myid":0.2803463335802452,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_NAME","type":"single","subtype":"params","value":"test6","parentid":222,"myid":0.8784348392788401,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"GIT_WORK_DIR","type":"single","subtype":"params","value":"/home/cius/action_work_dir/TEST1","parentid":222,"myid":0.5879489380347553,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_LOG_ACTIVE_SINCE_MINUTES","type":"single","subtype":"params","value":"130","parentid":222,"myid":0.6184907077915354,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_GIT_REPONAME","type":"single","subtype":"params","value":"git@github.com:yaacov90/configius_test1.git","parentid":222,"myid":0.8263169252069942,"parentName":"params"},{"grouptype":"filter","valuetype":"name_is_value","name":"BACKEND","type":"single","subtype":"components","value":"BACKEND","parentid":456,"myid":0.08261803223214481,"parentName":"components"},{"grouptype":"filter","valuetype":"name_is_value","name":"FRONTEND","type":"single","subtype":"components","value":"FRONTEND","parentid":456,"myid":0.5313241050609572,"parentName":"components"}],"showDetailsInDeployment":false},{"name":"CONFIGIUS-DOCKER-TEST1","chosenElements":[{"grouptype":"filter","valuetype":"later","name":"CONFIGIUS-DOCKER","type":"single","subtype":"projects","value":"CONFIGIUS-DOCKER","parentid":123,"myid":0.47925432779506094,"parentName":"projects"},{"grouptype":"filter","valuetype":"name_is_value","name":"FRONTEND-DOCKER","type":"single","subtype":"components","value":"FRONTEND-DOCKER","parentid":456,"myid":0.1416176609405151,"parentName":"components"},{"grouptype":"filter","valuetype":"name_is_value","name":"BACKEND-DOCKER","type":"single","subtype":"components","value":"","parentid":456,"myid":0.14651408058402704,"parentName":"components"},{"grouptype":"filter","valuetype":"name_is_value","name":"TEST-DOCKER1","type":"single","subtype":"environments","value":"TEST-DOCKER1","parentid":111,"myid":0.2923737851331558,"parentName":"environments"},{"grouptype":"param","valuetype":"later","name":"ENV_GIT_REPONAME","type":"single","subtype":"params","value":"git@github.com:yaacov90/configius_test1.git","parentid":222,"myid":0.8263169252069942,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_LOG_ACTIVE_SINCE_MINUTES","type":"single","subtype":"params","value":"110","parentid":222,"myid":0.6184907077915354,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"GIT_WORK_DIR","type":"single","subtype":"params","value":"/home/cius2/action_work_dir/CONFIGIUS-DOCKER-TEST1/VOLUME","parentid":222,"myid":0.5879489380347553,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_ID","type":"single","subtype":"params","value":"1","parentid":222,"myid":0.16420916896304294,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_TYPE","type":"single","subtype":"params","value":"TEST","parentid":222,"myid":0.7270576245268696,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_NAME","type":"single","subtype":"params","value":"TEST-DOCKER1","parentid":222,"myid":0.8784348392788401,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"DOCKER_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":222,"myid":0.39601162359775,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_PORT","type":"single","subtype":"params","value":"26100","parentid":222,"myid":0.6789386103464252,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_PORT","type":"single","subtype":"params","value":"25100","parentid":222,"myid":0.18085504248919926,"parentName":"params"},{"grouptype":"template","valuetype":"file","name":"docker-compose.yml","type":"single","subtype":"templates","value":"version: '3.5'\nservices:\n  configiusfe{{ ENV_ID }}:\n    image: configo_fe\n    command: ['sh', '-c', 'echo -e \"{\\n  \\\"CONFIGO_BE_HOST\\\":\\\"{{ DOCKER_HOST }}\\\",\\n  \\\"CONFIGO_BE_PORT\\\":\\\"3000\\\"\\n}\" > /usr/local/apache2/htdocs/assets/env.txt && /usr/local/apache2/bin/apachectl start && chmod -R 755 /usr/local/apache2/htdocs && while :; do echo \".\"; sleep 5 ; done']\n    container_name: configius_fe_{{ ENV_ID }}\n    ports: \n      - \"{{ CONFIGFE_PORT }}:80\"\n  configiusbe{{ ENV_ID }}:\n    image: configo_be\n    container_name: configius_be_{{ ENV_ID }}\n    ports:\n      - \"{{ CONFIGBE_PORT }}:3000\"\n    environment:\n      ENV_LOG_ACTIVE_SINCE_MINUTES: {{ ENV_LOG_ACTIVE_SINCE_MINUTES }}\n      ENV_GIT_WORK_DIR: /tmp/git\n      ENV_GIT_REPONAME: {{ ENV_GIT_REPONAME }}\n      ENV_GIT_KEY_DIR: /tmp/git\n      ENV_GIT_KEY_FILE_NAME: git_key_file\n      GIT_SSH_COMMAND: ssh -i /tmp/git/git_key_file -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no\n","parentid":333,"myid":0.3424366181410319,"parentName":"templates"},{"grouptype":"action","valuetype":"file","name":"deployment_docker.sh","type":"single","subtype":"actions","value":"#cd ~/doccompv2\n{{ SSH_CONNECTION_WORK_DIR }}/shutdown_docker.sh\n\n#perl -pe \"s|image: configo_fe(.+)|image: ${image_fe}|\" -pi docker-compose.yml\n#perl -pe \"s|image: configo_be(.+)|image: ${image_be}|\" -pi docker-compose.yml\n\n{{ SSH_CONNECTION_WORK_DIR }}/startup_docker.sh\n\njwt=`curl -s --location --request POST 'http://localhost:3000/auth/login' --header 'Content-Type: application/json' --data-raw '{\"username\": \"admin\",\"password\": \"admin\"}' | awk -F\"jwtticket\\\":\\\"\" '{print $2}' | sed 's|\\\"\\}$||'`\necho \" JWT ${jwt}\"\ncurl --location --request POST 'http://localhost:3000/git/key' --header 'jwtticket: '\"$jwt\"'' --header 'Content-Type: application/json' --data-raw '{\"key\": \"LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBb1NJSXFoekFuenJBTGpvbS8vRUp1NFFoRUluVGNEWCt2Ri82MlFxQ3lCVlZ5SFdqCnprc1BxMVVLYVFyNHRkNEFodmFWcXR0bXMrYWlJZnEwcDBBejB6K29FdnRDcy9iZXpFS3JDZ3liaktZMm5HYmoKZVRBeXF1MTNtVkxDbTNjUEJYR2QxVXJod3JQcS9QY0dtRGVaYzdhV2M2UjJvaHdTdytVa1I2Tkd4QkdsWEQvOApBQzU4d2pDczF4TUY1QXVDaUpEdUpSckJ4Ni9aQnE3U0g3NXMrd0hVVzFLVVVVd09xbXBJUVZLVlM1djJZUW1NCkVVWC9xeEZIN3R2TTJMNVJGellkWEtodnQwVHVrZVlOU0k5TlVBK2JrTUNqcy8zbElaUjZaSjVsZkJaV08wbWIKdkN6ajlKZ0JIc3UyWWhjMTVDbU5makdLYkZCbTVIczE5UVlPT1FJREFRQUJBb0lCQVFDZXJ5S3pUTitSc0UwaworVllCQmtMY2JYSVdsSFVxODdIcmwrWTFLcm5EQytmUUk3SnU3ZEwvbXg5R2RXeWJ4b2JrWXlEZ0EzUHdSWGgwCldDN2k2MEplanprWmdHS2ZVc2IxaDg1amRpa1Y2WGFzcmxMa3ZVZVl0NFhwOCt2OUtOSWRQVmYvZnVBNFcvRlcKc0h2SkdqQkFHWmV2U1U4ZnROL3lGYzZWMGtGVndxN1JvdFA0WkJIcVVPMDVTOEt5SUZJSXNjb0F2aXFydERibApmZHlmeHlKV2ZZUkZyRkMxS3FjWEIwQ2FLejVMbXU4dEthV20xQ0pOaEpsSGtBNUk1UEJBdSsxNXJOTnZIMThkCmFVVGF0cE5SM3lsTjNYM2NzV0VNMkV4ZFlnWjRSZ1RhVVMrTmNZNllaQVJrMUkrQnpaRWxKZUprbElBc1FkZnkKOG5GYTUzWlJBb0dCQU5EelJITWtIZGNVK25qOHZ4TTVBb2hNK2s4dG1lekZsNDhHV2Z3NWZyY2FuWnIwT0tvdwp0K1J3Q0g2QzNySU1LVXFSb0hXdlR5RGRpTVp5cG5aSnhTWTlURVJkaVdDV2UvYVVCRUtsMjZCeXMwbDNxcFk5Cng2dkhYSzJ6MEJDSlVpUGhFWVhwU1c5ampjNC9CYmUweGVJZG92TUNWYjZtVHRUNDFmbFBiN2FsQW9HQkFNVnEKWWxYUGJvRXE3UG16RkdxLzN2R3phWVQ0OEQyYnhyaGRsSUpEaW8ybmJ2MThCcWZrcWU2UzEwS3lJeTBVa01VRApSTktlR3RWemlNM1kyQTBob2ZmSXdmemM2OVRwa1kxZHJMb2ZpbldqUXdhYnByb0t6SCt2VzF5ejI4NTN4N0hTClVkZ1NQcGZBMm14bWc3M1U2eXZHVnRsVnJZRVpBU1VQd0MwTW5ma0ZBb0dCQU1RU296YlF1MWVyRGVjZWRVYmEKaG0vVW5FWlVhazV1bEd2WDcvVHBGdWxIaG9Gemp3RFZPcHFZTHNCWW1oVEZxTEdhdWRIMU1mR0xNTi9Ya2pFSgp4SUMvb0tPK2lqMGl1U3lIZFAvOWwzeVdaWHNaV2ZBbUJRcEN4OHNRSXJ5QnY1eC9oT3YrSDdUdzNJNmZRUVJFCkZEUzh6cjN1Z1B1b0grMWxtNVNaWUNFcEFvR0FXY2x6NWhGTThpU0MyV0tRZzZpMmpubUtJWGRUVk1IMzFMeUQKSWVmMEtVOGdsTnVHNzI5NXRrOUU1a204NC9ENWt4RlVpUEp0dyswaktIUmFkMFozc3dtMDZQdlZxdVY4Vks1cApNOUhLbUl4am5LcklYczh3aVZaSkdGV1pRRU9NS0owK3FpWktINTBQK3NONVlhcG9OMldpOUlBYVJLQUp2RUI0CnFFU1h5TDBDZ1lBQ1Z3U2dXT2VxSnN4bW5QNU1mZ1RKR2RubjU5V3NNU2JMeEV0dGVJKzlEa1JrSGVTaFlQbVQKYk5mZ1FZRC9LN0k0RTZKeUNJU2ZWaTN4OFBsSWU1RmxWa0tLVEdhbUdJUWplWlJsQlN3Si91ZDl4T2ZBUEJkKwplTVYrWGZ0WUdvOWNGWmZjeCswMmdMZUJ0N3hFejU3LzVYSXBmWElNanMwVGRBQ0dHMHhmZEE9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=\"}'\n\n#docker exec configo_be /bin/sh -c \"apk add git openssh\"\n\n","parentid":112,"myid":0.5668313635154618,"parentName":"actions"},{"grouptype":"template","valuetype":"file","name":"shutdown_docker.sh","type":"single","subtype":"templates","value":"cd {{ SSH_CONNECTION_WORK_DIR }}\ndocker-compose down\ncd -\n","parentid":333,"myid":0.24289676230071944,"parentName":"templates"},{"grouptype":"template","valuetype":"file","name":"startup_docker.sh","type":"single","subtype":"templates","value":"cd {{ SSH_CONNECTION_WORK_DIR }}\ndocker-compose up --build -d\ncd -\n","parentid":333,"myid":0.7096625145223132,"parentName":"templates"},{"grouptype":"action","valuetype":"file","name":"env_startup_docker.sh","type":"single","subtype":"actions","value":"cd {{ SSH_CONNECTION_WORK_DIR }}\ndocker-compose up --build -d\ncd -\n","parentid":112,"myid":0.8866227779337836,"parentName":"actions"},{"grouptype":"action","valuetype":"file","name":"env_shutdown_docker.sh","type":"single","subtype":"actions","value":"cd {{ SSH_CONNECTION_WORK_DIR }}\ndocker-compose down\ndocker stop configius_fe_{{ ENV_ID }}\ndocker rm configius_fe_{{ ENV_ID }}\ndocker stop configius_be_{{ ENV_ID }}\ndocker rm configius_be_{{ ENV_ID }}\ncd -\n","parentid":112,"myid":0.2016250169413254,"parentName":"actions"},{"grouptype":"connection","name":"cius","type":"single","subtype":"connections","value":"{\"host\":\"161.97.143.5\",\"username\":\"cius\",\"identity\":\"-----BEGIN OPENSSH PRIVATE KEY-----\\\\n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\\\\nL9H4+f9FcOogcJAAAACnVzZXJAWEhPTUU=\\\\n-----END OPENSSH PRIVATE KEY-----\",\"workdir\":\"/home/cius2/action-work-dir\",\"workdirinstance\":\"\",\"workdirroot\":\"\"}","parentid":444,"myid":0.7012222111937823,"parentName":"connections"}],"compositionElementsInternal":[{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR_ROOT","type":"single","subtype":"params","value":"/home/cius2/action-work-dir","parentid":0.7012222111937823,"myid":0.8484675443709957,"parentName":"cius"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":0.7012222111937823,"myid":0.6872225780223209,"parentName":"cius"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR","type":"single","subtype":"params","value":"/home/cius2/action-work-dir/CONFIGIUS-DOCKER-TEST1","parentid":0.7012222111937823,"myid":0.8427426897869621,"parentName":"cius"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_USER","type":"single","subtype":"params","value":"cius","parentid":0.7012222111937823,"myid":0.6583068852634018,"parentName":"cius"},{"grouptype":"connection","name":"cius","type":"single","subtype":"connections","value":"{\"host\":\"161.97.143.5\",\"username\":\"cius\",\"identity\":\"-----BEGIN OPENSSH PRIVATE KEY-----\\\\nb3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAABlwAAAAdzc2gtcn\\\\nNhAAAAAwEAAQAAAYEA3mSlzT820odCGPLzS+clxT/Yht7iUWGkjvMipEsYGjhLoP9oUQCE\\\\nxBA8ota6m+oqlnVPOfJqAbBRs+SoGT907VrAOM3QiFDW6X+e/g9QWO0cU/w2t1WXLgvkf2\\\\nwGqDRC8cSggPAbWOChfzcCozr+hz88esPn1d+gSU8WOr8OtF7BhQdHosW2mN/u+EX0CH9M\\\\nppnX2lKJeHQQPgVBbywuyTR+JoYbKHIyAH2f00Cto/g4uCxjHqiqVGIu0w2c6YXz7MUShk\\\\nerFV39y3ebt1e/wFJtI8xI7H45tlV0Z+nIp80IYi9zCvGho6bxRdsfPKlbUfJuBzav+MEg\\\\nLBckUrQbeq/t5sQyNl8DY29NPradrvaIpo21ts8JOnR6zOeuuY8ZEWpg3wOvKnp4JKnFOx\\\\nfOCrAXjWPhh/Us+HCfGX0gbazSCs2WDVdKJnmmRJwHc3zlxFY/E199wG5WzMm3paN9VlOj\\\\nWrqk90BnlFkaYc94MwtH5t7DG3qDP15L6XGqek0TAAAFgKvbEkOr2xJDAAAAB3NzaC1yc2\\\\nEAAAGBAN5kpc0/NtKHQhjy80vnJcU/2Ibe4lFhpI7zIqRLGBo4S6D/aFEAhMQQPKLWupvq\\\\nKpZ1TznyagGwUbPkqBk/dO1awDjN0IhQ1ul/nv4PUFjtHFP8NrdVly4L5H9sBqg0QvHEoI\\\\nDwG1jgoX83AqM6/oc/PHrD59XfoElPFjq/DrRewYUHR6LFtpjf7vhF9Ah/TKaZ19pSiXh0\\\\nED4FQW8sLsk0fiaGGyhyMgB9n9NAraP4OLgsYx6oqlRiLtMNnOmF8+zFEoZHqxVd/ct3m7\\\\ndXv8BSbSPMSOx+ObZVdGfpyKfNCGIvcwrxoaOm8UXbHzypW1Hybgc2r/jBICwXJFK0G3qv\\\\n7ebEMjZfA2NvTT62na72iKaNtbbPCTp0esznrrmPGRFqYN8Dryp6eCSpxTsXzgqwF41j4Y\\\\nf1LPhwnxl9IG2s0grNlg1XSiZ5pkScB3N85cRWPxNffcBuVszJt6WjfVZTo1q6pPdAZ5RZ\\\\nGmHPeDMLR+bewxt6gz9eS+lxqnpNEwAAAAMBAAEAAAGAF+LZiAz1F3GdoM5fYVSnUuNDn2\\\\nDLEBCbuxrUKq9CHHbVcKpeCu0yVVilGpxTmLFy94wMAV5PEnVcoSS7BVMyfNfVc4RvlGSS\\\\nYKvraMA+Uf7NnxukyNYxkamHVkRFBsXuNsd2scKYPViLH/3Jk7yfX+lj1o+6E9ecAKO08I\\\\nRa0PaodGBOymXP8eWDZjklN9BsbCxz6agZyc01fWPVHlqxf7zam8qlmheB1Vmo0+jLfaQI\\\\ne4eQ8dcNzFhrTRHWO6K+V/tYtSbJX2i7IbwrZs6GDEGq+/R4g1xFnJYBs/+MH+gXHN2Jla\\\\nCnJRZB4PD3LnvE6L6he0MlYC3K4ISVPkMfGTjL7EODlVYS56pV69OmHQmRCUxZ6mnlvRSw\\\\nyLWYKjq1+6ZUxTSoRtFW98kqVF2zBSZmKgB7LVlckkr8GMoiht1Qn1SC/FV3rTE+3aGN9s\\\\njo+OxNW6wi9/Vzs6f3ELGTr0a01wv/+hJqT7zU0PJ3DOJQZJvcYrSg4/Bom7jrKFAxAAAA\\\\nwQCcGUk4apP+NBpBnVOmVsqy4cnyY7gaMwUk3vi7pfy/bZxSIBYoLszMPVwGow4LkAtOEn\\\\nZVDGdnMyeJkzW2rITtMc6utWX0+9PlCbhBvBwZFA28A8ui52ouOBUME0wiYvxTIRmAQB0d\\\\nAxISk7mvwzMPQJF9aTb0T9qC0yALDzMav00pvwzV6w3n0H8kI7tETJ7+mrn38jdtY52Ctr\\\\n9auFgmZwka52L3uimvWmHyo2aTKbiGt9QGUXNjZQPTtldj01sAAADBAO+UsnCrF6kneC8u\\\\nQJdU6+kHX/+vxGJL0Ll1jeUDQ7U9XFtxSzRl2PFFQxTGAmEeJuk6YIJoi8RMD8GcLav74q\\\\nrop3ViLH15+ZoSHDEW8QXhJJ4oJFDDqfNKsQSThe1Y2/cQUVo6NaFDegKkVHc8ZBH3gn8T\\\\nwjZD6ANHiipnOWJLVqsh7CFqm5SxIF+e4NxfTYgbm+LNAyhohwX1NltmJXJUeORK9ykYh2\\\\n4OmnEnqVqOGHE/89BIfbPRRTX3exq+OwAAAMEA7aJnHzHsaPjuC3R8ANh/35h4xSLK4huu\\\\nPTmTTKEM6fhp1jQCsxPrsWvdbXXZadtPmB/OBdGlYAVfnau+I8dWlc9z8CYORjx/FeAPxR\\\\nVnBpAh/fHe+1hcAW265KVyvexm/Jc3uRsti1aRkUTBHuxrpmc2vK2MGrg3/I86QauxsQKT\\\\n+NCRDQo/1r3KyA91f42ekct78t9pde4J7SzIQgiFpd1WsjItrOaBxFg6Hrl7uvG8wUtqkW\\\\nL9H4+f9FcOogcJAAAACnVzZXJAWEhPTUU=\\\\n-----END OPENSSH PRIVATE KEY-----\",\"workdir\":\"/home/cius2/action-work-dir\",\"workdirinstance\":\"\",\"workdirroot\":\"\"}","parentid":444,"myid":0.7012222111937823,"parentName":"connections"},{"grouptype":"action","valuetype":"file","name":"env_shutdown_docker.sh","type":"single","subtype":"actions","value":"cd {{ SSH_CONNECTION_WORK_DIR }}\ndocker-compose down\ndocker stop configius_fe_{{ ENV_ID }}\ndocker rm configius_fe_{{ ENV_ID }}\ndocker stop configius_be_{{ ENV_ID }}\ndocker rm configius_be_{{ ENV_ID }}\ncd -\n","parentid":112,"myid":0.2016250169413254,"parentName":"actions"},{"grouptype":"action","valuetype":"file","name":"env_startup_docker.sh","type":"single","subtype":"actions","value":"cd {{ SSH_CONNECTION_WORK_DIR }}\ndocker-compose up --build -d\ncd -\n","parentid":112,"myid":0.8866227779337836,"parentName":"actions"},{"grouptype":"template","valuetype":"file","name":"startup_docker.sh","type":"single","subtype":"templates","value":"cd {{ SSH_CONNECTION_WORK_DIR }}\ndocker-compose up --build -d\ncd -\n","parentid":333,"myid":0.7096625145223132,"parentName":"templates"},{"grouptype":"template","valuetype":"file","name":"shutdown_docker.sh","type":"single","subtype":"templates","value":"cd {{ SSH_CONNECTION_WORK_DIR }}\ndocker-compose down\ncd -\n","parentid":333,"myid":0.24289676230071944,"parentName":"templates"},{"grouptype":"action","valuetype":"file","name":"deployment_docker.sh","type":"single","subtype":"actions","value":"#cd ~/doccompv2\n{{ SSH_CONNECTION_WORK_DIR }}/shutdown_docker.sh\n\n#perl -pe \"s|image: configo_fe(.+)|image: ${image_fe}|\" -pi docker-compose.yml\n#perl -pe \"s|image: configo_be(.+)|image: ${image_be}|\" -pi docker-compose.yml\n\n{{ SSH_CONNECTION_WORK_DIR }}/startup_docker.sh\n\njwt=`curl -s --location --request POST 'http://localhost:3000/auth/login' --header 'Content-Type: application/json' --data-raw '{\"username\": \"admin\",\"password\": \"admin\"}' | awk -F\"jwtticket\\\":\\\"\" '{print $2}' | sed 's|\\\"\\}$||'`\necho \" JWT ${jwt}\"\ncurl --location --request POST 'http://localhost:3000/git/key' --header 'jwtticket: '\"$jwt\"'' --header 'Content-Type: application/json' --data-raw '{\"key\": \"LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBb1NJSXFoekFuenJBTGpvbS8vRUp1NFFoRUluVGNEWCt2Ri82MlFxQ3lCVlZ5SFdqCnprc1BxMVVLYVFyNHRkNEFodmFWcXR0bXMrYWlJZnEwcDBBejB6K29FdnRDcy9iZXpFS3JDZ3liaktZMm5HYmoKZVRBeXF1MTNtVkxDbTNjUEJYR2QxVXJod3JQcS9QY0dtRGVaYzdhV2M2UjJvaHdTdytVa1I2Tkd4QkdsWEQvOApBQzU4d2pDczF4TUY1QXVDaUpEdUpSckJ4Ni9aQnE3U0g3NXMrd0hVVzFLVVVVd09xbXBJUVZLVlM1djJZUW1NCkVVWC9xeEZIN3R2TTJMNVJGellkWEtodnQwVHVrZVlOU0k5TlVBK2JrTUNqcy8zbElaUjZaSjVsZkJaV08wbWIKdkN6ajlKZ0JIc3UyWWhjMTVDbU5makdLYkZCbTVIczE5UVlPT1FJREFRQUJBb0lCQVFDZXJ5S3pUTitSc0UwaworVllCQmtMY2JYSVdsSFVxODdIcmwrWTFLcm5EQytmUUk3SnU3ZEwvbXg5R2RXeWJ4b2JrWXlEZ0EzUHdSWGgwCldDN2k2MEplanprWmdHS2ZVc2IxaDg1amRpa1Y2WGFzcmxMa3ZVZVl0NFhwOCt2OUtOSWRQVmYvZnVBNFcvRlcKc0h2SkdqQkFHWmV2U1U4ZnROL3lGYzZWMGtGVndxN1JvdFA0WkJIcVVPMDVTOEt5SUZJSXNjb0F2aXFydERibApmZHlmeHlKV2ZZUkZyRkMxS3FjWEIwQ2FLejVMbXU4dEthV20xQ0pOaEpsSGtBNUk1UEJBdSsxNXJOTnZIMThkCmFVVGF0cE5SM3lsTjNYM2NzV0VNMkV4ZFlnWjRSZ1RhVVMrTmNZNllaQVJrMUkrQnpaRWxKZUprbElBc1FkZnkKOG5GYTUzWlJBb0dCQU5EelJITWtIZGNVK25qOHZ4TTVBb2hNK2s4dG1lekZsNDhHV2Z3NWZyY2FuWnIwT0tvdwp0K1J3Q0g2QzNySU1LVXFSb0hXdlR5RGRpTVp5cG5aSnhTWTlURVJkaVdDV2UvYVVCRUtsMjZCeXMwbDNxcFk5Cng2dkhYSzJ6MEJDSlVpUGhFWVhwU1c5ampjNC9CYmUweGVJZG92TUNWYjZtVHRUNDFmbFBiN2FsQW9HQkFNVnEKWWxYUGJvRXE3UG16RkdxLzN2R3phWVQ0OEQyYnhyaGRsSUpEaW8ybmJ2MThCcWZrcWU2UzEwS3lJeTBVa01VRApSTktlR3RWemlNM1kyQTBob2ZmSXdmemM2OVRwa1kxZHJMb2ZpbldqUXdhYnByb0t6SCt2VzF5ejI4NTN4N0hTClVkZ1NQcGZBMm14bWc3M1U2eXZHVnRsVnJZRVpBU1VQd0MwTW5ma0ZBb0dCQU1RU296YlF1MWVyRGVjZWRVYmEKaG0vVW5FWlVhazV1bEd2WDcvVHBGdWxIaG9Gemp3RFZPcHFZTHNCWW1oVEZxTEdhdWRIMU1mR0xNTi9Ya2pFSgp4SUMvb0tPK2lqMGl1U3lIZFAvOWwzeVdaWHNaV2ZBbUJRcEN4OHNRSXJ5QnY1eC9oT3YrSDdUdzNJNmZRUVJFCkZEUzh6cjN1Z1B1b0grMWxtNVNaWUNFcEFvR0FXY2x6NWhGTThpU0MyV0tRZzZpMmpubUtJWGRUVk1IMzFMeUQKSWVmMEtVOGdsTnVHNzI5NXRrOUU1a204NC9ENWt4RlVpUEp0dyswaktIUmFkMFozc3dtMDZQdlZxdVY4Vks1cApNOUhLbUl4am5LcklYczh3aVZaSkdGV1pRRU9NS0owK3FpWktINTBQK3NONVlhcG9OMldpOUlBYVJLQUp2RUI0CnFFU1h5TDBDZ1lBQ1Z3U2dXT2VxSnN4bW5QNU1mZ1RKR2RubjU5V3NNU2JMeEV0dGVJKzlEa1JrSGVTaFlQbVQKYk5mZ1FZRC9LN0k0RTZKeUNJU2ZWaTN4OFBsSWU1RmxWa0tLVEdhbUdJUWplWlJsQlN3Si91ZDl4T2ZBUEJkKwplTVYrWGZ0WUdvOWNGWmZjeCswMmdMZUJ0N3hFejU3LzVYSXBmWElNanMwVGRBQ0dHMHhmZEE9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=\"}'\n\n#docker exec configo_be /bin/sh -c \"apk add git openssh\"\n\n","parentid":112,"myid":0.5668313635154618,"parentName":"actions"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR_ROOT","type":"single","subtype":"params","value":"/home/cius2/action_work_dir","parentid":0.32405552477439836,"myid":0.7271218100964352,"parentName":"cius2"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":0.32405552477439836,"myid":0.8936179602797942,"parentName":"cius2"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR","type":"single","subtype":"params","value":"/home/cius2/action_work_dir/CONFIGIUS-DOCKER-TEST1","parentid":0.32405552477439836,"myid":0.545562609548931,"parentName":"cius2"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_USER","type":"single","subtype":"params","value":"cius2","parentid":0.32405552477439836,"myid":0.6647837949255877,"parentName":"cius2"},{"grouptype":"template","valuetype":"file","name":"docker-compose.yml","type":"single","subtype":"templates","value":"version: '3.5'\nservices:\n  configiusfe{{ ENV_ID }}:\n    image: configo_fe\n    command: ['sh', '-c', 'echo -e \"{\\n  \\\"CONFIGO_BE_HOST\\\":\\\"{{ DOCKER_HOST }}\\\",\\n  \\\"CONFIGO_BE_PORT\\\":\\\"3000\\\"\\n}\" > /usr/local/apache2/htdocs/assets/env.txt && /usr/local/apache2/bin/apachectl start && chmod -R 755 /usr/local/apache2/htdocs && while :; do echo \".\"; sleep 5 ; done']\n    container_name: configius_fe_{{ ENV_ID }}\n    ports: \n      - \"{{ CONFIGFE_PORT }}:80\"\n  configiusbe{{ ENV_ID }}:\n    image: configo_be\n    container_name: configius_be_{{ ENV_ID }}\n    ports:\n      - \"{{ CONFIGBE_PORT }}:3000\"\n    environment:\n      ENV_LOG_ACTIVE_SINCE_MINUTES: {{ ENV_LOG_ACTIVE_SINCE_MINUTES }}\n      ENV_GIT_WORK_DIR: /tmp/git\n      ENV_GIT_REPONAME: {{ ENV_GIT_REPONAME }}\n      ENV_GIT_KEY_DIR: /tmp/git\n      ENV_GIT_KEY_FILE_NAME: git_key_file\n      GIT_SSH_COMMAND: ssh -i /tmp/git/git_key_file -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no\n","parentid":333,"myid":0.3424366181410319,"parentName":"templates"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_PORT","type":"single","subtype":"params","value":"25100","parentid":222,"myid":0.18085504248919926,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_PORT","type":"single","subtype":"params","value":"26100","parentid":222,"myid":0.6789386103464252,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"DOCKER_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":222,"myid":0.39601162359775,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_NAME","type":"single","subtype":"params","value":"TEST-DOCKER1","parentid":222,"myid":0.8784348392788401,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_TYPE","type":"single","subtype":"params","value":"TEST","parentid":222,"myid":0.7270576245268696,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_ID","type":"single","subtype":"params","value":"1","parentid":222,"myid":0.16420916896304294,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_LOG_ACTIVE_SINCE_MINUTES","type":"single","subtype":"params","value":"110","parentid":222,"myid":0.6184907077915354,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_GIT_REPONAME","type":"single","subtype":"params","value":"git@github.com:yaacov90/configius_test1.git","parentid":222,"myid":0.8263169252069942,"parentName":"params"},{"grouptype":"filter","valuetype":"name_is_value","name":"TEST-DOCKER1","type":"single","subtype":"environments","value":"TEST-DOCKER1","parentid":111,"myid":0.2923737851331558,"parentName":"environments"},{"grouptype":"param","valuetype":"later","name":"GIT_WORK_DIR","type":"single","subtype":"params","value":"/home/cius2/action_work_dir/CONFIGIUS-DOCKER-TEST1/VOLUME","parentid":222,"myid":0.5879489380347553,"parentName":"params"},{"grouptype":"filter","valuetype":"name_is_value","name":"BACKEND-DOCKER","type":"single","subtype":"components","value":"","parentid":456,"myid":0.14651408058402704,"parentName":"components"},{"grouptype":"filter","valuetype":"name_is_value","name":"FRONTEND-DOCKER","type":"single","subtype":"components","value":"FRONTEND-DOCKER","parentid":456,"myid":0.1416176609405151,"parentName":"components"},{"grouptype":"filter","valuetype":"later","name":"CONFIGIUS-DOCKER","type":"single","subtype":"projects","value":"CONFIGIUS-DOCKER","parentid":123,"myid":0.47925432779506094,"parentName":"projects"}],"showDetailsInDeployment":false},{"name":"CONFIGIUS-TEST1","chosenElements":[{"grouptype":"filter","valuetype":"name_is_value","name":"CONFIGIUS","type":"single","subtype":"projects","value":"CONFIGIUS","parentid":123,"myid":0.30660646607465214,"parentName":"projects"},{"grouptype":"filter","valuetype":"name_is_value","name":"FRONTEND","type":"single","subtype":"components","value":"FRONTEND","parentid":456,"myid":0.5313241050609572,"parentName":"components"},{"grouptype":"filter","valuetype":"name_is_value","name":"BACKEND","type":"single","subtype":"components","value":"BACKEND","parentid":456,"myid":0.08261803223214481,"parentName":"components"},{"grouptype":"filter","valuetype":"name_is_value","name":"TEST1","type":"single","subtype":"environments","value":"TEST1","parentid":111,"myid":0.1719205948423559,"parentName":"environments"},{"grouptype":"param","valuetype":"later","name":"ENV_GIT_REPONAME","type":"single","subtype":"params","value":"git@github.com:yaacov90/configius_test1.git","parentid":222,"myid":0.8263169252069942,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_LOG_ACTIVE_SINCE_MINUTES","type":"single","subtype":"params","value":"110","parentid":222,"myid":0.6184907077915354,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_ID","type":"single","subtype":"params","value":"1","parentid":222,"myid":0.16420916896304294,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_TYPE","type":"single","subtype":"params","value":"TEST","parentid":222,"myid":0.7270576245268696,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"GIT_WORK_DIR","type":"single","subtype":"params","value":"/home/cius/action_work_dir/TEST1","parentid":222,"myid":0.5879489380347553,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_NAME","type":"single","subtype":"params","value":"TEST1","parentid":222,"myid":0.8784348392788401,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_fe_035:registry","parentid":222,"myid":0.2803463335802452,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"KUBE_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":222,"myid":0.09920067295341473,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_be_028:registry","parentid":222,"myid":0.7764785493181117,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_PORT","type":"single","subtype":"params","value":"24100","parentid":222,"myid":0.6789386103464252,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_PORT","type":"single","subtype":"params","value":"23100","parentid":222,"myid":0.18085504248919926,"parentName":"params"},{"grouptype":"template","valuetype":"file","name":"configius_kube_deployment.yaml","type":"single","subtype":"templates","value":"apiVersion: v1\nkind: Namespace\nmetadata:\n  labels:\n    app: configius-{{ ENV_NAME }}\n  name: configius-{{ ENV_NAME }}\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-fe\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-fe\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-fe\n    spec:\n      containers:\n      - name: configius-fe\n        image: {{ CONFIGFE_IMAGE }}\n        command: ['sh', '-c', 'echo -e \"{\\n  \\\"CONFIGO_BE_HOST\\\":\\\"{{ KUBE_HOST }}\\\",\\n  \\\"CONFIGO_BE_PORT\\\":\\\"{{ CONFIGBE_PORT }}\\\"\\n}\" > /usr/local/apache2/htdocs/assets/env.txt && /usr/local/apache2/bin/apachectl start && chmod -R 755 /usr/local/apache2/htdocs && while :; do echo \".\"; sleep 5 ; done']\n        imagePullPolicy: IfNotPresent\n        ports:\n        - containerPort: 80\n      restartPolicy: Always\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-be\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-be\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-be\n    spec:\n      containers:\n      - name: configius-be\n        image: {{ CONFIGBE_IMAGE }}\n        imagePullPolicy: IfNotPresent\n        env:\n        - name: ENV_LOG_ACTIVE_SINCE_MINUTES\n          value: \"{{ ENV_LOG_ACTIVE_SINCE_MINUTES }}\"\n        - name: ENV_GIT_WORK_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_REPONAME\n          value: \"{{ ENV_GIT_REPONAME }}\"\n        - name: ENV_GIT_KEY_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_KEY_FILE_NAME\n          value: \"git_key_file\"\n        - name: GIT_SSH_COMMAND\n          value: \"ssh -i /tmp/git_key_file -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no\"\n        ports:\n        - containerPort: 3000\n      restartPolicy: Always\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-fe\nspec:\n  ports:\n    - name: \"4200\"\n      port:  {{ CONFIGFE_PORT }}\n      targetPort: 80\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-fe\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-be\nspec:\n  ports:\n    - name: \"3000\"\n      port: {{ CONFIGBE_PORT }} \n      targetPort: 3000\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-be\n\n","parentid":333,"myid":0.7534749717717639,"parentName":"templates"},{"grouptype":"action","valuetype":"file","name":"deployment.sh","type":"single","subtype":"actions","value":"kubectl apply -f {{ SSH_CONNECTION_WORK_DIR }}/configius_kube_deployment.yaml\necho {{ SSH_CONNECTION_WORK_DIR }} 2\n","parentid":112,"myid":0.4192087004411613,"parentName":"actions"},{"grouptype":"connection","name":"cius","type":"single","subtype":"connections","value":"{\"host\":\"161.97.143.5\",\"username\":\"cius\",\"identity\":\"-----BEGIN OPENSSH PRIVATE KEY-----\\\\n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\\\\nL9H4+f9FcOogcJAAAACnVzZXJAWEhPTUU=\\\\n-----END OPENSSH PRIVATE KEY-----\",\"workdir\":\"/home/cius2/action-work-dir\",\"workdirinstance\":\"\",\"workdirroot\":\"\"}","parentid":444,"myid":0.7012222111937823,"parentName":"connections"}],"compositionElementsInternal":[{"grouptype":"action","valuetype":"file","name":"deployment.sh","type":"single","subtype":"actions","value":"kubectl apply -f {{ SSH_CONNECTION_WORK_DIR }}/configius_kube_deployment.yaml\necho {{ SSH_CONNECTION_WORK_DIR }} 2\n","parentid":112,"myid":0.4192087004411613,"parentName":"actions"},{"grouptype":"template","valuetype":"file","name":"configius_kube_deployment.yaml","type":"single","subtype":"templates","value":"apiVersion: v1\nkind: Namespace\nmetadata:\n  labels:\n    app: configius-{{ ENV_NAME }}\n  name: configius-{{ ENV_NAME }}\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-fe\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-fe\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-fe\n    spec:\n      containers:\n      - name: configius-fe\n        image: {{ CONFIGFE_IMAGE }}\n        command: ['sh', '-c', 'echo -e \"{\\n  \\\"CONFIGO_BE_HOST\\\":\\\"{{ KUBE_HOST }}\\\",\\n  \\\"CONFIGO_BE_PORT\\\":\\\"{{ CONFIGBE_PORT }}\\\"\\n}\" > /usr/local/apache2/htdocs/assets/env.txt && /usr/local/apache2/bin/apachectl start && chmod -R 755 /usr/local/apache2/htdocs && while :; do echo \".\"; sleep 5 ; done']\n        imagePullPolicy: IfNotPresent\n        ports:\n        - containerPort: 80\n      restartPolicy: Always\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-be\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-be\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-be\n    spec:\n      containers:\n      - name: configius-be\n        image: {{ CONFIGBE_IMAGE }}\n        imagePullPolicy: IfNotPresent\n        env:\n        - name: ENV_LOG_ACTIVE_SINCE_MINUTES\n          value: \"{{ ENV_LOG_ACTIVE_SINCE_MINUTES }}\"\n        - name: ENV_GIT_WORK_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_REPONAME\n          value: \"{{ ENV_GIT_REPONAME }}\"\n        - name: ENV_GIT_KEY_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_KEY_FILE_NAME\n          value: \"git_key_file\"\n        - name: GIT_SSH_COMMAND\n          value: \"ssh -i /tmp/git_key_file -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no\"\n        ports:\n        - containerPort: 3000\n      restartPolicy: Always\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-fe\nspec:\n  ports:\n    - name: \"4200\"\n      port:  {{ CONFIGFE_PORT }}\n      targetPort: 80\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-fe\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-be\nspec:\n  ports:\n    - name: \"3000\"\n      port: {{ CONFIGBE_PORT }} \n      targetPort: 3000\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-be\n\n","parentid":333,"myid":0.7534749717717639,"parentName":"templates"},{"grouptype":"connection","name":"cius","type":"single","subtype":"connections","value":"{\"host\":\"161.97.143.5\",\"username\":\"cius\",\"identity\":\"-----BEGIN OPENSSH PRIVATE KEY-----\\\\n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\\\\nL9H4+f9FcOogcJAAAACnVzZXJAWEhPTUU=\\\\n-----END OPENSSH PRIVATE KEY-----\",\"workdir\":\"/home/cius2/action-work-dir\",\"workdirinstance\":\"\",\"workdirroot\":\"\"}","parentid":444,"myid":0.7012222111937823,"parentName":"connections"},{"grouptype":"filter","valuetype":"name_is_value","name":"TEST1","type":"single","subtype":"environments","value":"TEST1","parentid":111,"myid":0.1719205948423559,"parentName":"environments"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR_ROOT","type":"single","subtype":"params","value":"/home/cius2/action_work_dir","parentid":0.32405552477439836,"myid":0.5074840582312337,"parentName":"cius2"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR_ROOT","type":"single","subtype":"params","value":"/home/cius2/action-work-dir","parentid":0.7012222111937823,"myid":0.5177761028226164,"parentName":"cius"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR","type":"single","subtype":"params","value":"/home/cius2/action_work_dir/CONFIGIUS-TEST1","parentid":0.32405552477439836,"myid":0.11313361587971027,"parentName":"cius2"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR","type":"single","subtype":"params","value":"/home/cius2/action-work-dir/CONFIGIUS-TEST1","parentid":0.7012222111937823,"myid":0.004801350454522124,"parentName":"cius"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_USER","type":"single","subtype":"params","value":"cius2","parentid":0.32405552477439836,"myid":0.22194418184847597,"parentName":"cius2"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_USER","type":"single","subtype":"params","value":"cius","parentid":0.7012222111937823,"myid":0.05168481091232846,"parentName":"cius"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":0.32405552477439836,"myid":0.28784327841831225,"parentName":"cius2"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":0.7012222111937823,"myid":0.27962413969529276,"parentName":"cius"},{"grouptype":"param","valuetype":"later","name":"KUBE_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":222,"myid":0.09920067295341473,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"GIT_WORK_DIR","type":"single","subtype":"params","value":"/home/cius/action_work_dir/TEST1","parentid":222,"myid":0.5879489380347553,"parentName":"params"},{"grouptype":"filter","valuetype":"name_is_value","name":"FRONTEND","type":"single","subtype":"components","value":"FRONTEND","parentid":456,"myid":0.5313241050609572,"parentName":"components"},{"grouptype":"param","valuetype":"later","name":"ENV_TYPE","type":"single","subtype":"params","value":"test","parentid":222,"myid":0.7270576245268696,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_NAME","type":"single","subtype":"params","value":"test1","parentid":222,"myid":0.8784348392788401,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_LOG_ACTIVE_SINCE_MINUTES","type":"single","subtype":"params","value":"150","parentid":222,"myid":0.6184907077915354,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_ID","type":"single","subtype":"params","value":"1","parentid":222,"myid":0.16420916896304294,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_GIT_REPONAME","type":"single","subtype":"params","value":"git@github.com:yaacov90/configius_test1.git","parentid":222,"myid":0.8263169252069942,"parentName":"params"},{"grouptype":"filter","valuetype":"name_is_value","name":"CONFIGIUS","type":"single","subtype":"projects","value":"CONFIGIUS","parentid":123,"myid":0.30660646607465214,"parentName":"projects"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_PORT","type":"single","subtype":"params","value":"24100","parentid":222,"myid":0.6789386103464252,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_fe_035:registry","parentid":222,"myid":0.2803463335802452,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_PORT","type":"single","subtype":"params","value":"23100","parentid":222,"myid":0.18085504248919926,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_be_028:registry","parentid":222,"myid":0.7764785493181117,"parentName":"params"},{"grouptype":"filter","valuetype":"name_is_value","name":"BACKEND","type":"single","subtype":"components","value":"BACKEND","parentid":456,"myid":0.08261803223214481,"parentName":"components"}],"showDetailsInDeployment":false},{"name":"CONFIGIUS-TEST2","chosenElements":[{"grouptype":"filter","valuetype":"name_is_value","name":"CONFIGIUS","type":"single","subtype":"projects","value":"CONFIGIUS","parentid":123,"myid":0.30660646607465214,"parentName":"projects"},{"grouptype":"filter","valuetype":"name_is_value","name":"FRONTEND","type":"single","subtype":"components","value":"FRONTEND","parentid":456,"myid":0.5313241050609572,"parentName":"components"},{"grouptype":"filter","valuetype":"name_is_value","name":"BACKEND","type":"single","subtype":"components","value":"BACKEND","parentid":456,"myid":0.08261803223214481,"parentName":"components"},{"grouptype":"param","valuetype":"later","name":"ENV_GIT_REPONAME","type":"single","subtype":"params","value":"git@github.com:yaacov90/configius_test1.git","parentid":222,"myid":0.8263169252069942,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_LOG_ACTIVE_SINCE_MINUTES","type":"single","subtype":"params","value":"110","parentid":222,"myid":0.6184907077915354,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_ID","type":"single","subtype":"params","value":"1","parentid":222,"myid":0.16420916896304294,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_TYPE","type":"single","subtype":"params","value":"TEST","parentid":222,"myid":0.7270576245268696,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"GIT_WORK_DIR","type":"single","subtype":"params","value":"/home/cius/action_work_dir/TEST1","parentid":222,"myid":0.5879489380347553,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_NAME","type":"single","subtype":"params","value":"TEST1","parentid":222,"myid":0.8784348392788401,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_fe_035:registry","parentid":222,"myid":0.2803463335802452,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"KUBE_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":222,"myid":0.09920067295341473,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_be_028:registry","parentid":222,"myid":0.7764785493181117,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_PORT","type":"single","subtype":"params","value":"24100","parentid":222,"myid":0.6789386103464252,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_PORT","type":"single","subtype":"params","value":"23100","parentid":222,"myid":0.18085504248919926,"parentName":"params"},{"grouptype":"template","valuetype":"file","name":"configius_kube_deployment.yaml","type":"single","subtype":"templates","value":"apiVersion: v1\nkind: Namespace\nmetadata:\n  labels:\n    app: configius-{{ ENV_NAME }}\n  name: configius-{{ ENV_NAME }}\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-fe\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-fe\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-fe\n    spec:\n      containers:\n      - name: configius-fe\n        image: {{ CONFIGFE_IMAGE }}\n        command: ['sh', '-c', 'echo -e \"{\\n  \\\"CONFIGO_BE_HOST\\\":\\\"{{ KUBE_HOST }}\\\",\\n  \\\"CONFIGO_BE_PORT\\\":\\\"{{ CONFIGBE_PORT }}\\\"\\n}\" > /usr/local/apache2/htdocs/assets/env.txt && /usr/local/apache2/bin/apachectl start && chmod -R 755 /usr/local/apache2/htdocs && while :; do echo \".\"; sleep 5 ; done']\n        imagePullPolicy: IfNotPresent\n        ports:\n        - containerPort: 80\n      restartPolicy: Always\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-be\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-be\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-be\n    spec:\n      containers:\n      - name: configius-be\n        image: {{ CONFIGBE_IMAGE }}\n        imagePullPolicy: IfNotPresent\n        env:\n        - name: ENV_LOG_ACTIVE_SINCE_MINUTES\n          value: \"{{ ENV_LOG_ACTIVE_SINCE_MINUTES }}\"\n        - name: ENV_GIT_WORK_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_REPONAME\n          value: \"{{ ENV_GIT_REPONAME }}\"\n        - name: ENV_GIT_KEY_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_KEY_FILE_NAME\n          value: \"git_key_file\"\n        - name: GIT_SSH_COMMAND\n          value: \"ssh -i /tmp/git_key_file -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no\"\n        ports:\n        - containerPort: 3000\n      restartPolicy: Always\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-fe\nspec:\n  ports:\n    - name: \"4200\"\n      port:  {{ CONFIGFE_PORT }}\n      targetPort: 80\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-fe\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-be\nspec:\n  ports:\n    - name: \"3000\"\n      port: {{ CONFIGBE_PORT }} \n      targetPort: 3000\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-be\n\n","parentid":333,"myid":0.7534749717717639,"parentName":"templates"},{"grouptype":"action","valuetype":"file","name":"deployment.sh","type":"single","subtype":"actions","value":"kubectl apply -f {{ SSH_CONNECTION_WORK_DIR }}/configius_kube_deployment.yaml\necho {{ SSH_CONNECTION_WORK_DIR }} 2\n","parentid":112,"myid":0.4192087004411613,"parentName":"actions"},{"grouptype":"filter","valuetype":"name_is_value","name":"TEST2","type":"single","subtype":"environments","value":"TEST2","parentid":111,"myid":0.5353415708599183,"parentName":"environments"},{"grouptype":"connection","name":"cius2","type":"single","subtype":"connections","value":"{\"host\":\"161.97.143.5\",\"username\":\"cius2\",\"identity\":\"-----BEGIN OPENSSH PRIVATE KEY-----\\n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\\nL9H4+f9FcOogcJAAAACnVzZXJAWEhPTUU=\\n-----END OPENSSH PRIVATE KEY-----\",\"workdir\":\"/home/cius2/action-work-dir\",\"workdirinstance\":\"\",\"workdirroot\":\"\"}","parentid":444,"myid":0.2838829484311738,"parentName":"connections"}],"compositionElementsInternal":[{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR_ROOT","type":"single","subtype":"params","value":"/home/cius2/action-work-dir","parentid":0.2838829484311738,"myid":0.13884190759325143,"parentName":"cius2"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":0.2838829484311738,"myid":0.06537198612241513,"parentName":"cius2"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR","type":"single","subtype":"params","value":"/home/cius2/action-work-dir/CONFIGIUS-TEST2","parentid":0.2838829484311738,"myid":0.3945556502669134,"parentName":"cius2"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_USER","type":"single","subtype":"params","value":"cius2","parentid":0.2838829484311738,"myid":0.5097948011496225,"parentName":"cius2"},{"grouptype":"connection","name":"cius2","type":"single","subtype":"connections","value":"{\"host\":\"161.97.143.5\",\"username\":\"cius2\",\"identity\":\"-----BEGIN OPENSSH PRIVATE KEY-----\\n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\\nL9H4+f9FcOogcJAAAACnVzZXJAWEhPTUU=\\n-----END OPENSSH PRIVATE KEY-----\",\"workdir\":\"/home/cius2/action-work-dir\",\"workdirinstance\":\"\",\"workdirroot\":\"\"}","parentid":444,"myid":0.2838829484311738,"parentName":"connections"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR_ROOT","type":"single","subtype":"params","value":"/home/cius2/action-work-dir","parentid":0.7012222111937823,"myid":0.2300501193671809,"parentName":"cius"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":0.7012222111937823,"myid":0.09345566313053344,"parentName":"cius"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR","type":"single","subtype":"params","value":"/home/cius2/action-work-dir/CONFIGIUS-TEST2","parentid":0.7012222111937823,"myid":0.4083198644462984,"parentName":"cius"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_USER","type":"single","subtype":"params","value":"cius","parentid":0.7012222111937823,"myid":0.5743662402408987,"parentName":"cius"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR_ROOT","type":"single","subtype":"params","value":"/home/cius2/action-work-dir","parentid":0.32405552477439836,"myid":0.5622401705323612,"parentName":"cius2"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":0.32405552477439836,"myid":0.6464348960383655,"parentName":"cius2"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR","type":"single","subtype":"params","value":"/home/cius2/action-work-dir/CONFIGIUS-TEST2","parentid":0.32405552477439836,"myid":0.30819363094946506,"parentName":"cius2"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_USER","type":"single","subtype":"params","value":"cius2","parentid":0.32405552477439836,"myid":0.10601813685637285,"parentName":"cius2"},{"grouptype":"filter","valuetype":"name_is_value","name":"TEST2","type":"single","subtype":"environments","value":"TEST2","parentid":111,"myid":0.5353415708599183,"parentName":"environments"},{"grouptype":"action","valuetype":"file","name":"deployment.sh","type":"single","subtype":"actions","value":"kubectl apply -f {{ SSH_CONNECTION_WORK_DIR }}/configius_kube_deployment.yaml\necho {{ SSH_CONNECTION_WORK_DIR }} 2\n","parentid":112,"myid":0.4192087004411613,"parentName":"actions"},{"grouptype":"template","valuetype":"file","name":"configius_kube_deployment.yaml","type":"single","subtype":"templates","value":"apiVersion: v1\nkind: Namespace\nmetadata:\n  labels:\n    app: configius-{{ ENV_NAME }}\n  name: configius-{{ ENV_NAME }}\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-fe\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-fe\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-fe\n    spec:\n      containers:\n      - name: configius-fe\n        image: {{ CONFIGFE_IMAGE }}\n        command: ['sh', '-c', 'echo -e \"{\\n  \\\"CONFIGO_BE_HOST\\\":\\\"{{ KUBE_HOST }}\\\",\\n  \\\"CONFIGO_BE_PORT\\\":\\\"{{ CONFIGBE_PORT }}\\\"\\n}\" > /usr/local/apache2/htdocs/assets/env.txt && /usr/local/apache2/bin/apachectl start && chmod -R 755 /usr/local/apache2/htdocs && while :; do echo \".\"; sleep 5 ; done']\n        imagePullPolicy: IfNotPresent\n        ports:\n        - containerPort: 80\n      restartPolicy: Always\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-be\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-be\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-be\n    spec:\n      containers:\n      - name: configius-be\n        image: {{ CONFIGBE_IMAGE }}\n        imagePullPolicy: IfNotPresent\n        env:\n        - name: ENV_LOG_ACTIVE_SINCE_MINUTES\n          value: \"{{ ENV_LOG_ACTIVE_SINCE_MINUTES }}\"\n        - name: ENV_GIT_WORK_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_REPONAME\n          value: \"{{ ENV_GIT_REPONAME }}\"\n        - name: ENV_GIT_KEY_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_KEY_FILE_NAME\n          value: \"git_key_file\"\n        - name: GIT_SSH_COMMAND\n          value: \"ssh -i /tmp/git_key_file -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no\"\n        ports:\n        - containerPort: 3000\n      restartPolicy: Always\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-fe\nspec:\n  ports:\n    - name: \"4200\"\n      port:  {{ CONFIGFE_PORT }}\n      targetPort: 80\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-fe\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-be\nspec:\n  ports:\n    - name: \"3000\"\n      port: {{ CONFIGBE_PORT }} \n      targetPort: 3000\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-be\n\n","parentid":333,"myid":0.7534749717717639,"parentName":"templates"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_PORT","type":"single","subtype":"params","value":"23500","parentid":222,"myid":0.18085504248919926,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_PORT","type":"single","subtype":"params","value":"24500","parentid":222,"myid":0.6789386103464252,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_be_028:registry","parentid":222,"myid":0.7764785493181117,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"KUBE_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":222,"myid":0.09920067295341473,"parentName":"params"},{"grouptype":"filter","valuetype":"name_is_value","name":"CONFIGIUS","type":"single","subtype":"projects","value":"CONFIGIUS","parentid":123,"myid":0.30660646607465214,"parentName":"projects"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_fe_035:registry","parentid":222,"myid":0.2803463335802452,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_NAME","type":"single","subtype":"params","value":"test5","parentid":222,"myid":0.8784348392788401,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"GIT_WORK_DIR","type":"single","subtype":"params","value":"/home/cius/action_work_dir/TEST1","parentid":222,"myid":0.5879489380347553,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_TYPE","type":"single","subtype":"params","value":"test","parentid":222,"myid":0.7270576245268696,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_ID","type":"single","subtype":"params","value":"5","parentid":222,"myid":0.16420916896304294,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_LOG_ACTIVE_SINCE_MINUTES","type":"single","subtype":"params","value":"170","parentid":222,"myid":0.6184907077915354,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_GIT_REPONAME","type":"single","subtype":"params","value":"git@github.com:yaacov90/configius_test1.git","parentid":222,"myid":0.8263169252069942,"parentName":"params"},{"grouptype":"filter","valuetype":"name_is_value","name":"BACKEND","type":"single","subtype":"components","value":"BACKEND","parentid":456,"myid":0.08261803223214481,"parentName":"components"},{"grouptype":"filter","valuetype":"name_is_value","name":"FRONTEND","type":"single","subtype":"components","value":"FRONTEND","parentid":456,"myid":0.5313241050609572,"parentName":"components"}],"showDetailsInDeployment":false},{"name":"TEST4","chosenElements":[{"grouptype":"filter","valuetype":"name_is_value","name":"CONFIGIUS","type":"single","subtype":"projects","value":"CONFIGIUS","parentid":123,"myid":0.30660646607465214,"parentName":"projects"},{"grouptype":"filter","valuetype":"name_is_value","name":"FRONTEND","type":"single","subtype":"components","value":"FRONTEND","parentid":456,"myid":0.5313241050609572,"parentName":"components"},{"grouptype":"filter","valuetype":"name_is_value","name":"BACKEND","type":"single","subtype":"components","value":"BACKEND","parentid":456,"myid":0.08261803223214481,"parentName":"components"},{"grouptype":"param","valuetype":"later","name":"ENV_GIT_REPONAME","type":"single","subtype":"params","value":"git@github.com:yaacov90/configius_test1.git","parentid":222,"myid":0.8263169252069942,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_LOG_ACTIVE_SINCE_MINUTES","type":"single","subtype":"params","value":"110","parentid":222,"myid":0.6184907077915354,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_ID","type":"single","subtype":"params","value":"1","parentid":222,"myid":0.16420916896304294,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_TYPE","type":"single","subtype":"params","value":"TEST","parentid":222,"myid":0.7270576245268696,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"GIT_WORK_DIR","type":"single","subtype":"params","value":"/home/cius/action_work_dir/TEST1","parentid":222,"myid":0.5879489380347553,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_NAME","type":"single","subtype":"params","value":"TEST1","parentid":222,"myid":0.8784348392788401,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_fe_035:registry","parentid":222,"myid":0.2803463335802452,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"KUBE_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":222,"myid":0.09920067295341473,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_be_028:registry","parentid":222,"myid":0.7764785493181117,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_PORT","type":"single","subtype":"params","value":"24100","parentid":222,"myid":0.6789386103464252,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_PORT","type":"single","subtype":"params","value":"23100","parentid":222,"myid":0.18085504248919926,"parentName":"params"},{"grouptype":"template","valuetype":"file","name":"configius_kube_deployment.yaml","type":"single","subtype":"templates","value":"apiVersion: v1\nkind: Namespace\nmetadata:\n  labels:\n    app: configius-{{ ENV_NAME }}\n  name: configius-{{ ENV_NAME }}\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-fe\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-fe\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-fe\n    spec:\n      containers:\n      - name: configius-fe\n        image: {{ CONFIGFE_IMAGE }}\n        command: ['sh', '-c', 'echo -e \"{\\n  \\\"CONFIGO_BE_HOST\\\":\\\"{{ KUBE_HOST }}\\\",\\n  \\\"CONFIGO_BE_PORT\\\":\\\"{{ CONFIGBE_PORT }}\\\"\\n}\" > /usr/local/apache2/htdocs/assets/env.txt && /usr/local/apache2/bin/apachectl start && chmod -R 755 /usr/local/apache2/htdocs && while :; do echo \".\"; sleep 5 ; done']\n        imagePullPolicy: IfNotPresent\n        ports:\n        - containerPort: 80\n      restartPolicy: Always\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-be\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-be\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-be\n    spec:\n      containers:\n      - name: configius-be\n        image: {{ CONFIGBE_IMAGE }}\n        imagePullPolicy: IfNotPresent\n        env:\n        - name: ENV_LOG_ACTIVE_SINCE_MINUTES\n          value: \"{{ ENV_LOG_ACTIVE_SINCE_MINUTES }}\"\n        - name: ENV_GIT_WORK_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_REPONAME\n          value: \"{{ ENV_GIT_REPONAME }}\"\n        - name: ENV_GIT_KEY_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_KEY_FILE_NAME\n          value: \"git_key_file\"\n        - name: GIT_SSH_COMMAND\n          value: \"ssh -i /tmp/git_key_file -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no\"\n        ports:\n        - containerPort: 3000\n      restartPolicy: Always\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-fe\nspec:\n  ports:\n    - name: \"4200\"\n      port:  {{ CONFIGFE_PORT }}\n      targetPort: 80\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-fe\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-be\nspec:\n  ports:\n    - name: \"3000\"\n      port: {{ CONFIGBE_PORT }} \n      targetPort: 3000\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-be\n\n","parentid":333,"myid":0.7534749717717639,"parentName":"templates"},{"grouptype":"action","valuetype":"file","name":"deployment.sh","type":"single","subtype":"actions","value":"kubectl apply -f {{ SSH_CONNECTION_WORK_DIR }}/configius_kube_deployment.yaml\necho {{ SSH_CONNECTION_WORK_DIR }} 2\n","parentid":112,"myid":0.4192087004411613,"parentName":"actions"},{"grouptype":"filter","valuetype":"name_is_value","name":"TEST2","type":"single","subtype":"environments","value":"TEST2","parentid":111,"myid":0.5353415708599183,"parentName":"environments"},{"grouptype":"connection","name":"cius","type":"single","subtype":"connections","value":"{\"host\":\"161.97.143.5\",\"username\":\"cius\",\"identity\":\"-----BEGIN OPENSSH PRIVATE KEY-----\\\\n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\\\\nL9H4+f9FcOogcJAAAACnVzZXJAWEhPTUU=\\\\n-----END OPENSSH PRIVATE KEY-----\",\"workdir\":\"/home/cius2/action-work-dir\",\"workdirinstance\":\"\",\"workdirroot\":\"\"}","parentid":444,"myid":0.7012222111937823,"parentName":"connections"}],"compositionElementsInternal":[{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR_ROOT","type":"single","subtype":"params","value":"/home/cius2/action-work-dir","parentid":0.7012222111937823,"myid":0.46458060324131245,"parentName":"cius"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":0.7012222111937823,"myid":0.5535836058243842,"parentName":"cius"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR","type":"single","subtype":"params","value":"/home/cius2/action-work-dir/TEST4","parentid":0.7012222111937823,"myid":0.4217923218037314,"parentName":"cius"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_USER","type":"single","subtype":"params","value":"cius","parentid":0.7012222111937823,"myid":0.2305003989475809,"parentName":"cius"},{"grouptype":"connection","name":"cius","type":"single","subtype":"connections","value":"{\"host\":\"161.97.143.5\",\"username\":\"cius\",\"identity\":\"-----BEGIN OPENSSH PRIVATE KEY-----\\\\n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\\\\nL9H4+f9FcOogcJAAAACnVzZXJAWEhPTUU=\\\\n-----END OPENSSH PRIVATE KEY-----\",\"workdir\":\"/home/cius2/action-work-dir\",\"workdirinstance\":\"\",\"workdirroot\":\"\"}","parentid":444,"myid":0.7012222111937823,"parentName":"connections"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR_ROOT","type":"single","subtype":"params","value":"/home/cius2/action_work_dir","parentid":0.32405552477439836,"myid":0.4509384107406318,"parentName":"cius2"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":0.32405552477439836,"myid":0.5957792546926104,"parentName":"cius2"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR","type":"single","subtype":"params","value":"/home/cius2/action_work_dir/TEST4","parentid":0.32405552477439836,"myid":0.39316009601799196,"parentName":"cius2"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_USER","type":"single","subtype":"params","value":"cius2","parentid":0.32405552477439836,"myid":0.388301990415836,"parentName":"cius2"},{"grouptype":"filter","valuetype":"name_is_value","name":"TEST2","type":"single","subtype":"environments","value":"TEST2","parentid":111,"myid":0.5353415708599183,"parentName":"environments"},{"grouptype":"action","valuetype":"file","name":"deployment.sh","type":"single","subtype":"actions","value":"kubectl apply -f {{ SSH_CONNECTION_WORK_DIR }}/configius_kube_deployment.yaml\necho {{ SSH_CONNECTION_WORK_DIR }} 2\n","parentid":112,"myid":0.4192087004411613,"parentName":"actions"},{"grouptype":"template","valuetype":"file","name":"configius_kube_deployment.yaml","type":"single","subtype":"templates","value":"apiVersion: v1\nkind: Namespace\nmetadata:\n  labels:\n    app: configius-{{ ENV_NAME }}\n  name: configius-{{ ENV_NAME }}\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-fe\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-fe\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-fe\n    spec:\n      containers:\n      - name: configius-fe\n        image: {{ CONFIGFE_IMAGE }}\n        command: ['sh', '-c', 'echo -e \"{\\n  \\\"CONFIGO_BE_HOST\\\":\\\"{{ KUBE_HOST }}\\\",\\n  \\\"CONFIGO_BE_PORT\\\":\\\"{{ CONFIGBE_PORT }}\\\"\\n}\" > /usr/local/apache2/htdocs/assets/env.txt && /usr/local/apache2/bin/apachectl start && chmod -R 755 /usr/local/apache2/htdocs && while :; do echo \".\"; sleep 5 ; done']\n        imagePullPolicy: IfNotPresent\n        ports:\n        - containerPort: 80\n      restartPolicy: Always\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-be\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-be\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-be\n    spec:\n      containers:\n      - name: configius-be\n        image: {{ CONFIGBE_IMAGE }}\n        imagePullPolicy: IfNotPresent\n        env:\n        - name: ENV_LOG_ACTIVE_SINCE_MINUTES\n          value: \"{{ ENV_LOG_ACTIVE_SINCE_MINUTES }}\"\n        - name: ENV_GIT_WORK_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_REPONAME\n          value: \"{{ ENV_GIT_REPONAME }}\"\n        - name: ENV_GIT_KEY_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_KEY_FILE_NAME\n          value: \"git_key_file\"\n        - name: GIT_SSH_COMMAND\n          value: \"ssh -i /tmp/git_key_file -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no\"\n        ports:\n        - containerPort: 3000\n      restartPolicy: Always\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-fe\nspec:\n  ports:\n    - name: \"4200\"\n      port:  {{ CONFIGFE_PORT }}\n      targetPort: 80\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-fe\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-be\nspec:\n  ports:\n    - name: \"3000\"\n      port: {{ CONFIGBE_PORT }} \n      targetPort: 3000\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-be\n\n","parentid":333,"myid":0.7534749717717639,"parentName":"templates"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_PORT","type":"single","subtype":"params","value":"23400","parentid":222,"myid":0.18085504248919926,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_PORT","type":"single","subtype":"params","value":"24400","parentid":222,"myid":0.6789386103464252,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_be_028:registry","parentid":222,"myid":0.7764785493181117,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"KUBE_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":222,"myid":0.09920067295341473,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_fe_035:registry","parentid":222,"myid":0.2803463335802452,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_NAME","type":"single","subtype":"params","value":"test3","parentid":222,"myid":0.8784348392788401,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"GIT_WORK_DIR","type":"single","subtype":"params","value":"/home/cius/action_work_dir/TEST1","parentid":222,"myid":0.5879489380347553,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_TYPE","type":"single","subtype":"params","value":"test","parentid":222,"myid":0.7270576245268696,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_ID","type":"single","subtype":"params","value":"4","parentid":222,"myid":0.16420916896304294,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_LOG_ACTIVE_SINCE_MINUTES","type":"single","subtype":"params","value":"140","parentid":222,"myid":0.6184907077915354,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_GIT_REPONAME","type":"single","subtype":"params","value":"git@github.com:yaacov90/configius_test1.git","parentid":222,"myid":0.8263169252069942,"parentName":"params"},{"grouptype":"filter","valuetype":"name_is_value","name":"BACKEND","type":"single","subtype":"components","value":"BACKEND","parentid":456,"myid":0.08261803223214481,"parentName":"components"},{"grouptype":"filter","valuetype":"name_is_value","name":"FRONTEND","type":"single","subtype":"components","value":"FRONTEND","parentid":456,"myid":0.5313241050609572,"parentName":"components"},{"grouptype":"filter","valuetype":"name_is_value","name":"CONFIGIUS","type":"single","subtype":"projects","value":"CONFIGIUS","parentid":123,"myid":0.30660646607465214,"parentName":"projects"}],"showDetailsInDeployment":false},{"name":"CONFIGIUS-TEST5","chosenElements":[{"grouptype":"filter","valuetype":"name_is_value","name":"CONFIGIUS","type":"single","subtype":"projects","value":"CONFIGIUS","parentid":123,"myid":0.30660646607465214,"parentName":"projects"},{"grouptype":"filter","valuetype":"name_is_value","name":"FRONTEND","type":"single","subtype":"components","value":"FRONTEND","parentid":456,"myid":0.5313241050609572,"parentName":"components"},{"grouptype":"filter","valuetype":"name_is_value","name":"BACKEND","type":"single","subtype":"components","value":"BACKEND","parentid":456,"myid":0.08261803223214481,"parentName":"components"},{"grouptype":"param","valuetype":"later","name":"ENV_GIT_REPONAME","type":"single","subtype":"params","value":"git@github.com:yaacov90/configius_test1.git","parentid":222,"myid":0.8263169252069942,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_LOG_ACTIVE_SINCE_MINUTES","type":"single","subtype":"params","value":"110","parentid":222,"myid":0.6184907077915354,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"GIT_WORK_DIR","type":"single","subtype":"params","value":"/home/cius/action_work_dir/TEST1","parentid":222,"myid":0.5879489380347553,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_NAME","type":"single","subtype":"params","value":"TEST1","parentid":222,"myid":0.8784348392788401,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_fe_035:registry","parentid":222,"myid":0.2803463335802452,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"KUBE_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":222,"myid":0.09920067295341473,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_be_028:registry","parentid":222,"myid":0.7764785493181117,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_PORT","type":"single","subtype":"params","value":"24100","parentid":222,"myid":0.6789386103464252,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_PORT","type":"single","subtype":"params","value":"23100","parentid":222,"myid":0.18085504248919926,"parentName":"params"},{"grouptype":"template","valuetype":"file","name":"configius_kube_deployment.yaml","type":"single","subtype":"templates","value":"apiVersion: v1\nkind: Namespace\nmetadata:\n  labels:\n    app: configius-{{ ENV_NAME }}\n  name: configius-{{ ENV_NAME }}\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-fe\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-fe\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-fe\n    spec:\n      containers:\n      - name: configius-fe\n        image: {{ CONFIGFE_IMAGE }}\n        command: ['sh', '-c', 'echo -e \"{\\n  \\\"CONFIGO_BE_HOST\\\":\\\"{{ KUBE_HOST }}\\\",\\n  \\\"CONFIGO_BE_PORT\\\":\\\"{{ CONFIGBE_PORT }}\\\"\\n}\" > /usr/local/apache2/htdocs/assets/env.txt && /usr/local/apache2/bin/apachectl start && chmod -R 755 /usr/local/apache2/htdocs && while :; do echo \".\"; sleep 5 ; done']\n        imagePullPolicy: IfNotPresent\n        ports:\n        - containerPort: 80\n      restartPolicy: Always\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-be\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-be\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-be\n    spec:\n      containers:\n      - name: configius-be\n        image: {{ CONFIGBE_IMAGE }}\n        imagePullPolicy: IfNotPresent\n        env:\n        - name: ENV_LOG_ACTIVE_SINCE_MINUTES\n          value: \"{{ ENV_LOG_ACTIVE_SINCE_MINUTES }}\"\n        - name: ENV_GIT_WORK_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_REPONAME\n          value: \"{{ ENV_GIT_REPONAME }}\"\n        - name: ENV_GIT_KEY_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_KEY_FILE_NAME\n          value: \"git_key_file\"\n        - name: GIT_SSH_COMMAND\n          value: \"ssh -i /tmp/git_key_file -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no\"\n        ports:\n        - containerPort: 3000\n      restartPolicy: Always\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-fe\nspec:\n  ports:\n    - name: \"4200\"\n      port:  {{ CONFIGFE_PORT }}\n      targetPort: 80\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-fe\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-be\nspec:\n  ports:\n    - name: \"3000\"\n      port: {{ CONFIGBE_PORT }} \n      targetPort: 3000\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-be\n\n","parentid":333,"myid":0.7534749717717639,"parentName":"templates"},{"grouptype":"action","valuetype":"file","name":"deployment.sh","type":"single","subtype":"actions","value":"kubectl apply -f {{ SSH_CONNECTION_WORK_DIR }}/configius_kube_deployment.yaml\necho {{ SSH_CONNECTION_WORK_DIR }} 2\n","parentid":112,"myid":0.4192087004411613,"parentName":"actions"},{"grouptype":"filter","valuetype":"name_is_value","name":"TEST5","type":"single","subtype":"environments","value":"TEST5","parentid":111,"myid":0.023381158894292042,"parentName":"environments"},{"grouptype":"filter","children":[{"grouptype":"filter","valuetype":"name_is_value","name":"TEST1","type":"single","subtype":"environments","value":"TEST1","parentid":111,"myid":0.1719205948423559,"parentName":"environments"},{"grouptype":"filter","valuetype":"name_is_value","name":"TEST2","type":"single","subtype":"environments","value":"TEST2","parentid":111,"myid":0.5353415708599183,"parentName":"environments"}],"name":"test","type":"group","subtype":"environments","parentid":111,"myid":0.7101469960871145},{"grouptype":"connection","name":"cius","type":"single","subtype":"connections","value":"{\"host\":\"161.97.143.5\",\"username\":\"cius\",\"identity\":\"-----BEGIN OPENSSH PRIVATE KEY-----\\\\n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\\\\nL9H4+f9FcOogcJAAAACnVzZXJAWEhPTUU=\\\\n-----END OPENSSH PRIVATE KEY-----\",\"workdir\":\"/home/cius2/action-work-dir\",\"workdirinstance\":\"\",\"workdirroot\":\"\"}","parentid":444,"myid":0.7012222111937823,"parentName":"connections"}],"compositionElementsInternal":[{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR_ROOT","type":"single","subtype":"params","value":"/home/cius2/action-work-dir","parentid":0.7012222111937823,"myid":0.752455607509064,"parentName":"cius"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":0.7012222111937823,"myid":0.36076588791414,"parentName":"cius"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR","type":"single","subtype":"params","value":"/home/cius2/action-work-dir/CONFIGIUS-TEST5","parentid":0.7012222111937823,"myid":0.734421100337844,"parentName":"cius"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_USER","type":"single","subtype":"params","value":"cius","parentid":0.7012222111937823,"myid":0.4895783094909385,"parentName":"cius"},{"grouptype":"connection","name":"cius","type":"single","subtype":"connections","value":"{\"host\":\"161.97.143.5\",\"username\":\"cius\",\"identity\":\"-----BEGIN OPENSSH PRIVATE KEY-----\\\\nb3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAABlwAAAAdzc2gtcn\\\\nNhAAAAAwEAAQAAAYEA3mSlzT820odCGPLzS+clxT/Yht7iUWGkjvMipEsYGjhLoP9oUQCE\\\\nxBA8ota6m+oqlnVPOfJqAbBRs+SoGT907VrAOM3QiFDW6X+e/g9QWO0cU/w2t1WXLgvkf2\\\\nwGqDRC8cSggPAbWOChfzcCozr+hz88esPn1d+gSU8WOr8OtF7BhQdHosW2mN/u+EX0CH9M\\\\nppnX2lKJeHQQPgVBbywuyTR+JoYbKHIyAH2f00Cto/g4uCxjHqiqVGIu0w2c6YXz7MUShk\\\\nerFV39y3ebt1e/wFJtI8xI7H45tlV0Z+nIp80IYi9zCvGho6bxRdsfPKlbUfJuBzav+MEg\\\\nLBckUrQbeq/t5sQyNl8DY29NPradrvaIpo21ts8JOnR6zOeuuY8ZEWpg3wOvKnp4JKnFOx\\\\nfOCrAXjWPhh/Us+HCfGX0gbazSCs2WDVdKJnmmRJwHc3zlxFY/E199wG5WzMm3paN9VlOj\\\\nWrqk90BnlFkaYc94MwtH5t7DG3qDP15L6XGqek0TAAAFgKvbEkOr2xJDAAAAB3NzaC1yc2\\\\nEAAAGBAN5kpc0/NtKHQhjy80vnJcU/2Ibe4lFhpI7zIqRLGBo4S6D/aFEAhMQQPKLWupvq\\\\nKpZ1TznyagGwUbPkqBk/dO1awDjN0IhQ1ul/nv4PUFjtHFP8NrdVly4L5H9sBqg0QvHEoI\\\\nDwG1jgoX83AqM6/oc/PHrD59XfoElPFjq/DrRewYUHR6LFtpjf7vhF9Ah/TKaZ19pSiXh0\\\\nED4FQW8sLsk0fiaGGyhyMgB9n9NAraP4OLgsYx6oqlRiLtMNnOmF8+zFEoZHqxVd/ct3m7\\\\ndXv8BSbSPMSOx+ObZVdGfpyKfNCGIvcwrxoaOm8UXbHzypW1Hybgc2r/jBICwXJFK0G3qv\\\\n7ebEMjZfA2NvTT62na72iKaNtbbPCTp0esznrrmPGRFqYN8Dryp6eCSpxTsXzgqwF41j4Y\\\\nf1LPhwnxl9IG2s0grNlg1XSiZ5pkScB3N85cRWPxNffcBuVszJt6WjfVZTo1q6pPdAZ5RZ\\\\nGmHPeDMLR+bewxt6gz9eS+lxqnpNEwAAAAMBAAEAAAGAF+LZiAz1F3GdoM5fYVSnUuNDn2\\\\nDLEBCbuxrUKq9CHHbVcKpeCu0yVVilGpxTmLFy94wMAV5PEnVcoSS7BVMyfNfVc4RvlGSS\\\\nYKvraMA+Uf7NnxukyNYxkamHVkRFBsXuNsd2scKYPViLH/3Jk7yfX+lj1o+6E9ecAKO08I\\\\nRa0PaodGBOymXP8eWDZjklN9BsbCxz6agZyc01fWPVHlqxf7zam8qlmheB1Vmo0+jLfaQI\\\\ne4eQ8dcNzFhrTRHWO6K+V/tYtSbJX2i7IbwrZs6GDEGq+/R4g1xFnJYBs/+MH+gXHN2Jla\\\\nCnJRZB4PD3LnvE6L6he0MlYC3K4ISVPkMfGTjL7EODlVYS56pV69OmHQmRCUxZ6mnlvRSw\\\\nyLWYKjq1+6ZUxTSoRtFW98kqVF2zBSZmKgB7LVlckkr8GMoiht1Qn1SC/FV3rTE+3aGN9s\\\\njo+OxNW6wi9/Vzs6f3ELGTr0a01wv/+hJqT7zU0PJ3DOJQZJvcYrSg4/Bom7jrKFAxAAAA\\\\nwQCcGUk4apP+NBpBnVOmVsqy4cnyY7gaMwUk3vi7pfy/bZxSIBYoLszMPVwGow4LkAtOEn\\\\nZVDGdnMyeJkzW2rITtMc6utWX0+9PlCbhBvBwZFA28A8ui52ouOBUME0wiYvxTIRmAQB0d\\\\nAxISk7mvwzMPQJF9aTb0T9qC0yALDzMav00pvwzV6w3n0H8kI7tETJ7+mrn38jdtY52Ctr\\\\n9auFgmZwka52L3uimvWmHyo2aTKbiGt9QGUXNjZQPTtldj01sAAADBAO+UsnCrF6kneC8u\\\\nQJdU6+kHX/+vxGJL0Ll1jeUDQ7U9XFtxSzRl2PFFQxTGAmEeJuk6YIJoi8RMD8GcLav74q\\\\nrop3ViLH15+ZoSHDEW8QXhJJ4oJFDDqfNKsQSThe1Y2/cQUVo6NaFDegKkVHc8ZBH3gn8T\\\\nwjZD6ANHiipnOWJLVqsh7CFqm5SxIF+e4NxfTYgbm+LNAyhohwX1NltmJXJUeORK9ykYh2\\\\n4OmnEnqVqOGHE/89BIfbPRRTX3exq+OwAAAMEA7aJnHzHsaPjuC3R8ANh/35h4xSLK4huu\\\\nPTmTTKEM6fhp1jQCsxPrsWvdbXXZadtPmB/OBdGlYAVfnau+I8dWlc9z8CYORjx/FeAPxR\\\\nVnBpAh/fHe+1hcAW265KVyvexm/Jc3uRsti1aRkUTBHuxrpmc2vK2MGrg3/I86QauxsQKT\\\\n+NCRDQo/1r3KyA91f42ekct78t9pde4J7SzIQgiFpd1WsjItrOaBxFg6Hrl7uvG8wUtqkW\\\\nL9H4+f9FcOogcJAAAACnVzZXJAWEhPTUU=\\\\n-----END OPENSSH PRIVATE KEY-----\",\"workdir\":\"/home/cius2/action-work-dir\",\"workdirinstance\":\"\",\"workdirroot\":\"\"}","parentid":444,"myid":0.7012222111937823,"parentName":"connections"},{"grouptype":"filter","valuetype":"name_is_value","name":"TEST5","type":"single","subtype":"environments","value":"TEST5","parentid":111,"myid":0.023381158894292042,"parentName":"environments"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR_ROOT","type":"single","subtype":"params","value":"/home/cius2/action_work_dir","parentid":0.32405552477439836,"myid":0.36134121273121256,"parentName":"cius2"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":0.32405552477439836,"myid":0.2561278733283743,"parentName":"cius2"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR","type":"single","subtype":"params","value":"/home/cius2/action_work_dir/CONFIGIUS-TEST5","parentid":0.32405552477439836,"myid":0.8305870665490647,"parentName":"cius2"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_USER","type":"single","subtype":"params","value":"cius2","parentid":0.32405552477439836,"myid":0.7771873552038573,"parentName":"cius2"},{"grouptype":"action","valuetype":"file","name":"deployment.sh","type":"single","subtype":"actions","value":"kubectl apply -f {{ SSH_CONNECTION_WORK_DIR }}/configius_kube_deployment.yaml\necho {{ SSH_CONNECTION_WORK_DIR }} 2\n","parentid":112,"myid":0.4192087004411613,"parentName":"actions"},{"grouptype":"template","valuetype":"file","name":"configius_kube_deployment.yaml","type":"single","subtype":"templates","value":"apiVersion: v1\nkind: Namespace\nmetadata:\n  labels:\n    app: configius-{{ ENV_NAME }}\n  name: configius-{{ ENV_NAME }}\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-fe\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-fe\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-fe\n    spec:\n      containers:\n      - name: configius-fe\n        image: {{ CONFIGFE_IMAGE }}\n        command: ['sh', '-c', 'echo -e \"{\\n  \\\"CONFIGO_BE_HOST\\\":\\\"{{ KUBE_HOST }}\\\",\\n  \\\"CONFIGO_BE_PORT\\\":\\\"{{ CONFIGBE_PORT }}\\\"\\n}\" > /usr/local/apache2/htdocs/assets/env.txt && /usr/local/apache2/bin/apachectl start && chmod -R 755 /usr/local/apache2/htdocs && while :; do echo \".\"; sleep 5 ; done']\n        imagePullPolicy: IfNotPresent\n        ports:\n        - containerPort: 80\n      restartPolicy: Always\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-be\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-be\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-be\n    spec:\n      containers:\n      - name: configius-be\n        image: {{ CONFIGBE_IMAGE }}\n        imagePullPolicy: IfNotPresent\n        env:\n        - name: ENV_LOG_ACTIVE_SINCE_MINUTES\n          value: \"{{ ENV_LOG_ACTIVE_SINCE_MINUTES }}\"\n        - name: ENV_GIT_WORK_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_REPONAME\n          value: \"{{ ENV_GIT_REPONAME }}\"\n        - name: ENV_GIT_KEY_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_KEY_FILE_NAME\n          value: \"git_key_file\"\n        - name: GIT_SSH_COMMAND\n          value: \"ssh -i /tmp/git_key_file -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no\"\n        ports:\n        - containerPort: 3000\n      restartPolicy: Always\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-fe\nspec:\n  ports:\n    - name: \"4200\"\n      port:  {{ CONFIGFE_PORT }}\n      targetPort: 80\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-fe\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-be\nspec:\n  ports:\n    - name: \"3000\"\n      port: {{ CONFIGBE_PORT }} \n      targetPort: 3000\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-be\n\n","parentid":333,"myid":0.7534749717717639,"parentName":"templates"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_PORT","type":"single","subtype":"params","value":"23600","parentid":222,"myid":0.18085504248919926,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_PORT","type":"single","subtype":"params","value":"24600","parentid":222,"myid":0.6789386103464252,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_be_028:registry","parentid":222,"myid":0.7764785493181117,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"KUBE_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":222,"myid":0.09920067295341473,"parentName":"params"},{"grouptype":"filter","valuetype":"name_is_value","name":"CONFIGIUS","type":"single","subtype":"projects","value":"CONFIGIUS","parentid":123,"myid":0.30660646607465214,"parentName":"projects"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_fe_035:registry","parentid":222,"myid":0.2803463335802452,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_NAME","type":"single","subtype":"params","value":"test6","parentid":222,"myid":0.8784348392788401,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"GIT_WORK_DIR","type":"single","subtype":"params","value":"/home/cius/action_work_dir/TEST1","parentid":222,"myid":0.5879489380347553,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_LOG_ACTIVE_SINCE_MINUTES","type":"single","subtype":"params","value":"140","parentid":222,"myid":0.6184907077915354,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_GIT_REPONAME","type":"single","subtype":"params","value":"git@github.com:yaacov90/configius_test1.git","parentid":222,"myid":0.8263169252069942,"parentName":"params"},{"grouptype":"filter","valuetype":"name_is_value","name":"BACKEND","type":"single","subtype":"components","value":"BACKEND","parentid":456,"myid":0.08261803223214481,"parentName":"components"},{"grouptype":"filter","valuetype":"name_is_value","name":"FRONTEND","type":"single","subtype":"components","value":"FRONTEND","parentid":456,"myid":0.5313241050609572,"parentName":"components"}],"showDetailsInDeployment":false},{"name":"CONFIGIUS-TEST7","chosenElements":[{"grouptype":"filter","valuetype":"name_is_value","name":"CONFIGIUS","type":"single","subtype":"projects","value":"CONFIGIUS","parentid":123,"myid":0.30660646607465214,"parentName":"projects"},{"grouptype":"filter","valuetype":"name_is_value","name":"FRONTEND","type":"single","subtype":"components","value":"FRONTEND","parentid":456,"myid":0.5313241050609572,"parentName":"components"},{"grouptype":"filter","valuetype":"name_is_value","name":"BACKEND","type":"single","subtype":"components","value":"BACKEND","parentid":456,"myid":0.08261803223214481,"parentName":"components"},{"grouptype":"param","valuetype":"later","name":"ENV_GIT_REPONAME","type":"single","subtype":"params","value":"git@github.com:yaacov90/configius_test1.git","parentid":222,"myid":0.8263169252069942,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_LOG_ACTIVE_SINCE_MINUTES","type":"single","subtype":"params","value":"110","parentid":222,"myid":0.6184907077915354,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_ID","type":"single","subtype":"params","value":"1","parentid":222,"myid":0.16420916896304294,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_TYPE","type":"single","subtype":"params","value":"TEST","parentid":222,"myid":0.7270576245268696,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"GIT_WORK_DIR","type":"single","subtype":"params","value":"/home/cius/action_work_dir/TEST1","parentid":222,"myid":0.5879489380347553,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_NAME","type":"single","subtype":"params","value":"TEST1","parentid":222,"myid":0.8784348392788401,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_fe_035:registry","parentid":222,"myid":0.2803463335802452,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"KUBE_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":222,"myid":0.09920067295341473,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_be_028:registry","parentid":222,"myid":0.7764785493181117,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_PORT","type":"single","subtype":"params","value":"24100","parentid":222,"myid":0.6789386103464252,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_PORT","type":"single","subtype":"params","value":"23100","parentid":222,"myid":0.18085504248919926,"parentName":"params"},{"grouptype":"template","valuetype":"file","name":"configius_kube_deployment.yaml","type":"single","subtype":"templates","value":"apiVersion: v1\nkind: Namespace\nmetadata:\n  labels:\n    app: configius-{{ ENV_NAME }}\n  name: configius-{{ ENV_NAME }}\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-fe\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-fe\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-fe\n    spec:\n      containers:\n      - name: configius-fe\n        image: {{ CONFIGFE_IMAGE }}\n        command: ['sh', '-c', 'echo -e \"{\\n  \\\"CONFIGO_BE_HOST\\\":\\\"{{ KUBE_HOST }}\\\",\\n  \\\"CONFIGO_BE_PORT\\\":\\\"{{ CONFIGBE_PORT }}\\\"\\n}\" > /usr/local/apache2/htdocs/assets/env.txt && /usr/local/apache2/bin/apachectl start && chmod -R 755 /usr/local/apache2/htdocs && while :; do echo \".\"; sleep 5 ; done']\n        imagePullPolicy: IfNotPresent\n        ports:\n        - containerPort: 80\n      restartPolicy: Always\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-be\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-be\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-be\n    spec:\n      containers:\n      - name: configius-be\n        image: {{ CONFIGBE_IMAGE }}\n        imagePullPolicy: IfNotPresent\n        env:\n        - name: ENV_LOG_ACTIVE_SINCE_MINUTES\n          value: \"{{ ENV_LOG_ACTIVE_SINCE_MINUTES }}\"\n        - name: ENV_GIT_WORK_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_REPONAME\n          value: \"{{ ENV_GIT_REPONAME }}\"\n        - name: ENV_GIT_KEY_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_KEY_FILE_NAME\n          value: \"git_key_file\"\n        - name: GIT_SSH_COMMAND\n          value: \"ssh -i /tmp/git_key_file -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no\"\n        ports:\n        - containerPort: 3000\n      restartPolicy: Always\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-fe\nspec:\n  ports:\n    - name: \"4200\"\n      port:  {{ CONFIGFE_PORT }}\n      targetPort: 80\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-fe\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-be\nspec:\n  ports:\n    - name: \"3000\"\n      port: {{ CONFIGBE_PORT }} \n      targetPort: 3000\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-be\n\n","parentid":333,"myid":0.7534749717717639,"parentName":"templates"},{"grouptype":"action","valuetype":"file","name":"deployment.sh","type":"single","subtype":"actions","value":"kubectl apply -f {{ SSH_CONNECTION_WORK_DIR }}/configius_kube_deployment.yaml\necho {{ SSH_CONNECTION_WORK_DIR }} 2\n","parentid":112,"myid":0.4192087004411613,"parentName":"actions"},{"grouptype":"filter","valuetype":"name_is_value","name":"TEST2","type":"single","subtype":"environments","value":"TEST2","parentid":111,"myid":0.5353415708599183,"parentName":"environments"},{"grouptype":"connection","name":"cius","type":"single","subtype":"connections","value":"{\"host\":\"161.97.143.5\",\"username\":\"cius\",\"identity\":\"-----BEGIN OPENSSH PRIVATE KEY-----\\\\n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\\\\nL9H4+f9FcOogcJAAAACnVzZXJAWEhPTUU=\\\\n-----END OPENSSH PRIVATE KEY-----\",\"workdir\":\"/home/cius2/action-work-dir\",\"workdirinstance\":\"\",\"workdirroot\":\"\"}","parentid":444,"myid":0.7012222111937823,"parentName":"connections"}],"compositionElementsInternal":[{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR_ROOT","type":"single","subtype":"params","value":"/home/cius2/action-work-dir","parentid":0.7012222111937823,"myid":0.1292171743323629,"parentName":"cius"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":0.7012222111937823,"myid":0.40452184804338165,"parentName":"cius"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR","type":"single","subtype":"params","value":"/home/cius2/action-work-dir/CONFIGIUS-TEST3","parentid":0.7012222111937823,"myid":0.4939226912914285,"parentName":"cius"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_USER","type":"single","subtype":"params","value":"cius","parentid":0.7012222111937823,"myid":0.1721450011397918,"parentName":"cius"},{"grouptype":"connection","name":"cius","type":"single","subtype":"connections","value":"{\"host\":\"161.97.143.5\",\"username\":\"cius\",\"identity\":\"-----BEGIN OPENSSH PRIVATE KEY-----\\\\n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\\\\nL9H4+f9FcOogcJAAAACnVzZXJAWEhPTUU=\\\\n-----END OPENSSH PRIVATE KEY-----\",\"workdir\":\"/home/cius2/action-work-dir\",\"workdirinstance\":\"\",\"workdirroot\":\"\"}","parentid":444,"myid":0.7012222111937823,"parentName":"connections"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR_ROOT","type":"single","subtype":"params","value":"/home/cius2/action_work_dir","parentid":0.32405552477439836,"myid":0.47997396629225486,"parentName":"cius2"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":0.32405552477439836,"myid":0.840402309315752,"parentName":"cius2"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_WORK_DIR","type":"single","subtype":"params","value":"/home/cius2/action_work_dir/CONFIGIUS-TEST3","parentid":0.32405552477439836,"myid":0.8513032481517784,"parentName":"cius2"},{"grouptype":"param","valuetype":"now_final","children":[],"name":"SSH_CONNECTION_USER","type":"single","subtype":"params","value":"cius2","parentid":0.32405552477439836,"myid":0.5242392343719673,"parentName":"cius2"},{"grouptype":"filter","valuetype":"name_is_value","name":"TEST2","type":"single","subtype":"environments","value":"TEST2","parentid":111,"myid":0.5353415708599183,"parentName":"environments"},{"grouptype":"action","valuetype":"file","name":"deployment.sh","type":"single","subtype":"actions","value":"kubectl apply -f {{ SSH_CONNECTION_WORK_DIR }}/configius_kube_deployment.yaml\necho {{ SSH_CONNECTION_WORK_DIR }} 2\n","parentid":112,"myid":0.4192087004411613,"parentName":"actions"},{"grouptype":"template","valuetype":"file","name":"configius_kube_deployment.yaml","type":"single","subtype":"templates","value":"apiVersion: v1\nkind: Namespace\nmetadata:\n  labels:\n    app: configius-{{ ENV_NAME }}\n  name: configius-{{ ENV_NAME }}\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-fe\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-fe\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-fe\n    spec:\n      containers:\n      - name: configius-fe\n        image: {{ CONFIGFE_IMAGE }}\n        command: ['sh', '-c', 'echo -e \"{\\n  \\\"CONFIGO_BE_HOST\\\":\\\"{{ KUBE_HOST }}\\\",\\n  \\\"CONFIGO_BE_PORT\\\":\\\"{{ CONFIGBE_PORT }}\\\"\\n}\" > /usr/local/apache2/htdocs/assets/env.txt && /usr/local/apache2/bin/apachectl start && chmod -R 755 /usr/local/apache2/htdocs && while :; do echo \".\"; sleep 5 ; done']\n        imagePullPolicy: IfNotPresent\n        ports:\n        - containerPort: 80\n      restartPolicy: Always\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-be\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-be\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-be\n    spec:\n      containers:\n      - name: configius-be\n        image: {{ CONFIGBE_IMAGE }}\n        imagePullPolicy: IfNotPresent\n        env:\n        - name: ENV_LOG_ACTIVE_SINCE_MINUTES\n          value: \"{{ ENV_LOG_ACTIVE_SINCE_MINUTES }}\"\n        - name: ENV_GIT_WORK_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_REPONAME\n          value: \"{{ ENV_GIT_REPONAME }}\"\n        - name: ENV_GIT_KEY_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_KEY_FILE_NAME\n          value: \"git_key_file\"\n        - name: GIT_SSH_COMMAND\n          value: \"ssh -i /tmp/git_key_file -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no\"\n        ports:\n        - containerPort: 3000\n      restartPolicy: Always\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-fe\nspec:\n  ports:\n    - name: \"4200\"\n      port:  {{ CONFIGFE_PORT }}\n      targetPort: 80\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-fe\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-be\nspec:\n  ports:\n    - name: \"3000\"\n      port: {{ CONFIGBE_PORT }} \n      targetPort: 3000\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-be\n\n","parentid":333,"myid":0.7534749717717639,"parentName":"templates"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_PORT","type":"single","subtype":"params","value":"23400","parentid":222,"myid":0.18085504248919926,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_PORT","type":"single","subtype":"params","value":"24400","parentid":222,"myid":0.6789386103464252,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_be_028:registry","parentid":222,"myid":0.7764785493181117,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"KUBE_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":222,"myid":0.09920067295341473,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_fe_035:registry","parentid":222,"myid":0.2803463335802452,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_NAME","type":"single","subtype":"params","value":"test3","parentid":222,"myid":0.8784348392788401,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"GIT_WORK_DIR","type":"single","subtype":"params","value":"/home/cius/action_work_dir/TEST1","parentid":222,"myid":0.5879489380347553,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_TYPE","type":"single","subtype":"params","value":"test","parentid":222,"myid":0.7270576245268696,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_ID","type":"single","subtype":"params","value":"4","parentid":222,"myid":0.16420916896304294,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_LOG_ACTIVE_SINCE_MINUTES","type":"single","subtype":"params","value":"145","parentid":222,"myid":0.6184907077915354,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_GIT_REPONAME","type":"single","subtype":"params","value":"git@github.com:yaacov90/configius_test1.git","parentid":222,"myid":0.8263169252069942,"parentName":"params"},{"grouptype":"filter","valuetype":"name_is_value","name":"BACKEND","type":"single","subtype":"components","value":"BACKEND","parentid":456,"myid":0.08261803223214481,"parentName":"components"},{"grouptype":"filter","valuetype":"name_is_value","name":"FRONTEND","type":"single","subtype":"components","value":"FRONTEND","parentid":456,"myid":0.5313241050609572,"parentName":"components"},{"grouptype":"filter","valuetype":"name_is_value","name":"CONFIGIUS","type":"single","subtype":"projects","value":"CONFIGIUS","parentid":123,"myid":0.30660646607465214,"parentName":"projects"}],"showDetailsInDeployment":false}],"treeNodes":[{"name":"root","type":"group","subtype":"root","grouptype":"root","parentid":0,"myid":999,"children":[{"name":"projects","type":"group","grouptype":"filter","subtype":"projects","parentid":999,"myid":123,"children":[{"grouptype":"filter","valuetype":"name_is_value","name":"CONFIGIUS","type":"single","subtype":"projects","value":"CONFIGIUS","parentid":123,"myid":0.30660646607465214,"parentName":"projects"},{"grouptype":"filter","valuetype":"later","name":"CONFIGIUS-DOCKER","type":"single","subtype":"projects","value":"CONFIGIUS-DOCKER","parentid":123,"myid":0.47925432779506094,"parentName":"projects"}]},{"name":"components","type":"group","subtype":"components","grouptype":"filter","parentid":999,"myid":456,"children":[{"grouptype":"filter","valuetype":"name_is_value","name":"FRONTEND","type":"single","subtype":"components","value":"FRONTEND","parentid":456,"myid":0.5313241050609572,"parentName":"components"},{"grouptype":"filter","valuetype":"name_is_value","name":"BACKEND","type":"single","subtype":"components","value":"BACKEND","parentid":456,"myid":0.08261803223214481,"parentName":"components"},{"grouptype":"filter","valuetype":"name_is_value","name":"FRONTEND-DOCKER","type":"single","subtype":"components","value":"FRONTEND-DOCKER","parentid":456,"myid":0.1416176609405151,"parentName":"components"},{"grouptype":"filter","valuetype":"name_is_value","name":"BACKEND-DOCKER","type":"single","subtype":"components","value":"","parentid":456,"myid":0.14651408058402704,"parentName":"components"}]},{"name":"environments","type":"group","subtype":"environments","grouptype":"filter","parentid":999,"myid":111,"children":[{"grouptype":"filter","valuetype":"name_is_value","name":"TEST2","type":"single","subtype":"environments","value":"TEST2","parentid":111,"myid":0.5353415708599183,"parentName":"environments"},{"grouptype":"filter","valuetype":"name_is_value","name":"DEV1","type":"single","subtype":"environments","parentid":111,"myid":0.9232751099633918,"value":"DEV1"},{"grouptype":"filter","valuetype":"name_is_value","name":"TEST1","type":"single","subtype":"environments","value":"TEST1","parentid":111,"myid":0.1719205948423559,"parentName":"environments"},{"grouptype":"filter","valuetype":"name_is_value","name":"TEST-DOCKER1","type":"single","subtype":"environments","value":"TEST-DOCKER1","parentid":111,"myid":0.2923737851331558,"parentName":"environments"},{"grouptype":"filter","valuetype":"name_is_value","name":"TEST3","type":"single","subtype":"environments","value":"TEST3","parentid":111,"myid":0.6639406723573584},{"grouptype":"filter","valuetype":"name_is_value","name":"TEST4","type":"single","subtype":"environments","value":"","parentid":111,"myid":0.10514429669714054},{"grouptype":"filter","valuetype":"name_is_value","name":"TEST5","type":"single","subtype":"environments","value":"TEST5","parentid":111,"myid":0.023381158894292042,"parentName":"environments"},{"grouptype":"filter","valuetype":"name_is_value","name":"TEST6","type":"single","subtype":"environments","value":"TEST6","parentid":111,"myid":0.06542707490257471,"parentName":"environments"},{"grouptype":"filter","children":[{"grouptype":"filter","valuetype":"name_is_value","name":"DEV1","type":"single","subtype":"environments","parentid":111,"myid":0.9232751099633918,"value":"DEV1"}],"name":"dev","type":"group","subtype":"environments","parentid":111,"myid":0.4084326005486836},{"grouptype":"filter","children":[{"grouptype":"filter","valuetype":"name_is_value","name":"TEST1","type":"single","subtype":"environments","value":"TEST1","parentid":111,"myid":0.1719205948423559,"parentName":"environments"},{"grouptype":"filter","valuetype":"name_is_value","name":"TEST2","type":"single","subtype":"environments","value":"TEST2","parentid":111,"myid":0.5353415708599183,"parentName":"environments"}],"name":"test","type":"group","subtype":"environments","parentid":111,"myid":0.7101469960871145},{"grouptype":"action","children":[],"name":"test-docker","type":"group","subtype":"environments","parentid":111,"myid":0.9272290494220476}]},{"name":"params","type":"group","subtype":"params","grouptype":"param","parentid":999,"myid":222,"children":[{"grouptype":"param","valuetype":"later","name":"ENV_GIT_REPONAME","type":"single","subtype":"params","value":"git@github.com:yaacov90/configius_test1.git","parentid":222,"myid":0.8263169252069942,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"GIT_WORK_DIR","type":"single","subtype":"params","value":"/home/cius2/action_work_dir/CONFIGIUS-DOCKER-TEST1/VOLUME","parentid":222,"myid":0.5879489380347553,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_ID","type":"single","subtype":"params","value":"1","parentid":222,"myid":0.16420916896304294,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_TYPE","type":"single","subtype":"params","value":"TEST","parentid":222,"myid":0.7270576245268696,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_NAME","type":"single","subtype":"params","value":"TEST-DOCKER1","parentid":222,"myid":0.8784348392788401,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_fe_035:registry","parentid":222,"myid":0.2803463335802452,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"KUBE_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":222,"myid":0.09920067295341473,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_IMAGE","type":"single","subtype":"params","value":"localhost:5000/configo_be_028:registry","parentid":222,"myid":0.7764785493181117,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGFE_PORT","type":"single","subtype":"params","value":"26100","parentid":222,"myid":0.6789386103464252,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"CONFIGBE_PORT","type":"single","subtype":"params","value":"25100","parentid":222,"myid":0.18085504248919926,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"DOCKER_HOST","type":"single","subtype":"params","value":"161.97.143.5","parentid":222,"myid":0.39601162359775,"parentName":"params"},{"grouptype":"param","valuetype":"later","name":"ENV_LOG_ACTIVE_SINCE_MINUTES","type":"single","subtype":"params","value":"105","parentid":222,"myid":0.7845862845627791},{"grouptype":"param","valuetype":"later","name":"ENV_LOG_ACTIVE_SINCE_MINUTES","type":"single","subtype":"params","value":"112","parentid":222,"myid":0.6184907077915354,"parentName":"params"}]},{"name":"templates","type":"group","subtype":"templates","grouptype":"template","parentid":999,"myid":333,"children":[{"grouptype":"template","valuetype":"file","name":"configius_kube_deployment.yaml","type":"single","subtype":"templates","value":"apiVersion: v1\nkind: Namespace\nmetadata:\n  labels:\n    app: configius-{{ ENV_NAME }}\n  name: configius-{{ ENV_NAME }}\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-fe\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-fe\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-fe\n    spec:\n      containers:\n      - name: configius-fe\n        image: {{ CONFIGFE_IMAGE }}\n        command: ['sh', '-c', 'echo -e \"{\\n  \\\"CONFIGO_BE_HOST\\\":\\\"{{ KUBE_HOST }}\\\",\\n  \\\"CONFIGO_BE_PORT\\\":\\\"{{ CONFIGBE_PORT }}\\\"\\n}\" > /usr/local/apache2/htdocs/assets/env.txt && /usr/local/apache2/bin/apachectl start && chmod -R 755 /usr/local/apache2/htdocs && while :; do echo \".\"; sleep 5 ; done']\n        imagePullPolicy: IfNotPresent\n        ports:\n        - containerPort: 80\n      restartPolicy: Always\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  name: configius-be\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: configius-be\n  template:\n    metadata:\n      annotations:\n      labels:\n        app: configius-be\n    spec:\n      containers:\n      - name: configius-be\n        image: {{ CONFIGBE_IMAGE }}\n        imagePullPolicy: IfNotPresent\n        env:\n        - name: ENV_LOG_ACTIVE_SINCE_MINUTES\n          value: \"{{ ENV_LOG_ACTIVE_SINCE_MINUTES }}\"\n        - name: ENV_GIT_WORK_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_REPONAME\n          value: \"{{ ENV_GIT_REPONAME }}\"\n        - name: ENV_GIT_KEY_DIR\n          value: \"/tmp\"\n        - name: ENV_GIT_KEY_FILE_NAME\n          value: \"git_key_file\"\n        - name: GIT_SSH_COMMAND\n          value: \"ssh -i /tmp/git_key_file -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no\"\n        ports:\n        - containerPort: 3000\n      restartPolicy: Always\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-fe\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-fe\nspec:\n  ports:\n    - name: \"4200\"\n      port:  {{ CONFIGFE_PORT }}\n      targetPort: 80\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-fe\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: configius-be\n  namespace: configius-{{ ENV_NAME }}\n  labels:\n    app: configius-be\nspec:\n  ports:\n    - name: \"3000\"\n      port: {{ CONFIGBE_PORT }} \n      targetPort: 3000\n  type: LoadBalancer\n  externalIPs:\n    - {{ KUBE_HOST }}\n  selector:\n    app: configius-be\n\n","parentid":333,"myid":0.7534749717717639,"parentName":"templates"},{"grouptype":"template","valuetype":"file","name":"shutdown.sh","type":"single","subtype":"templates","value":"kubectl delete -f configius_kube_deployment.yaml\n","parentid":333,"myid":0.4749404572282452},{"grouptype":"template","valuetype":"file","name":"startup.sh","type":"single","subtype":"templates","value":"kubectl apply -f configius_kube_deployment.yaml\n","parentid":333,"myid":0.5866979430217754},{"grouptype":"template","valuetype":"file","name":"docker-compose.yml","type":"single","subtype":"templates","value":"version: '3.5'\nservices:\n  configiusfe{{ ENV_ID }}:\n    image: configo_fe\n    command: ['sh', '-c', 'echo -e \"{\\n  \\\"CONFIGO_BE_HOST\\\":\\\"{{ DOCKER_HOST }}\\\",\\n  \\\"CONFIGO_BE_PORT\\\":\\\"3000\\\"\\n}\" > /usr/local/apache2/htdocs/assets/env.txt && /usr/local/apache2/bin/apachectl start && chmod -R 755 /usr/local/apache2/htdocs && while :; do echo \".\"; sleep 5 ; done']\n    container_name: configius_fe_{{ ENV_ID }}\n    ports: \n      - \"{{ CONFIGFE_PORT }}:80\"\n  configiusbe{{ ENV_ID }}:\n    image: configo_be\n    container_name: configius_be_{{ ENV_ID }}\n    ports:\n      - \"{{ CONFIGBE_PORT }}:3000\"\n    environment:\n      ENV_LOG_ACTIVE_SINCE_MINUTES: {{ ENV_LOG_ACTIVE_SINCE_MINUTES }}\n      ENV_GIT_WORK_DIR: /tmp/git\n      ENV_GIT_REPONAME: {{ ENV_GIT_REPONAME }}\n      ENV_GIT_KEY_DIR: /tmp/git\n      ENV_GIT_KEY_FILE_NAME: git_key_file\n      GIT_SSH_COMMAND: ssh -i /tmp/git/git_key_file -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no\n","parentid":333,"myid":0.3424366181410319,"parentName":"templates"},{"grouptype":"template","valuetype":"file","name":"shutdown_docker.sh","type":"single","subtype":"templates","value":"cd {{ SSH_CONNECTION_WORK_DIR }}\ndocker-compose down\ncd -\n","parentid":333,"myid":0.24289676230071944,"parentName":"templates"},{"grouptype":"template","valuetype":"file","name":"startup_docker.sh","type":"single","subtype":"templates","value":"cd {{ SSH_CONNECTION_WORK_DIR }}\ndocker-compose up --build -d\ncd -\n","parentid":333,"myid":0.7096625145223132,"parentName":"templates"}]},{"name":"connections","type":"group","subtype":"connections","grouptype":"connection","parentid":999,"myid":444,"children":[{"grouptype":"connection","name":"cius2","type":"single","subtype":"connections","value":"{\"host\":\"161.97.143.5\",\"username\":\"cius2\",\"identity\":\"-----BEGIN OPENSSH PRIVATE KEY-----\\n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\\nL9H4+f9FcOogcJAAAACnVzZXJAWEhPTUU=\\n-----END OPENSSH PRIVATE KEY-----\",\"workdir\":\"/home/cius2/action-work-dir\",\"workdirinstance\":\"\",\"workdirroot\":\"\"}","parentid":444,"myid":0.2838829484311738,"parentName":"connections"}]},{"name":"actions","type":"group","subtype":"actions","grouptype":"action","parentid":999,"myid":112,"children":[{"grouptype":"action","valuetype":"file","name":"deployment.sh","type":"single","subtype":"actions","value":"kubectl apply -f {{ SSH_CONNECTION_WORK_DIR }}/configius_kube_deployment.yaml\necho {{ SSH_CONNECTION_WORK_DIR }} 2\n","parentid":112,"myid":0.4192087004411613,"parentName":"actions"},{"grouptype":"action","valuetype":"file","name":"deployment_docker.sh","type":"single","subtype":"actions","value":"#cd ~/doccompv2\n{{ SSH_CONNECTION_WORK_DIR }}/shutdown_docker.sh\n\n#perl -pe \"s|image: configo_fe(.+)|image: ${image_fe}|\" -pi docker-compose.yml\n#perl -pe \"s|image: configo_be(.+)|image: ${image_be}|\" -pi docker-compose.yml\n\n{{ SSH_CONNECTION_WORK_DIR }}/startup_docker.sh\n\njwt=`curl -s --location --request POST 'http://localhost:3000/auth/login' --header 'Content-Type: application/json' --data-raw '{\"username\": \"admin\",\"password\": \"admin\"}' | awk -F\"jwtticket\\\":\\\"\" '{print $2}' | sed 's|\\\"\\}$||'`\necho \" JWT ${jwt}\"\ncurl --location --request POST 'http://localhost:3000/git/key' --header 'jwtticket: '\"$jwt\"'' --header 'Content-Type: application/json' --data-raw '{\"key\": \"LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBb1NJSXFoekFuenJBTGpvbS8vRUp1NFFoRUluVGNEWCt2Ri82MlFxQ3lCVlZ5SFdqCnprc1BxMVVLYVFyNHRkNEFodmFWcXR0bXMrYWlJZnEwcDBBejB6K29FdnRDcy9iZXpFS3JDZ3liaktZMm5HYmoKZVRBeXF1MTNtVkxDbTNjUEJYR2QxVXJod3JQcS9QY0dtRGVaYzdhV2M2UjJvaHdTdytVa1I2Tkd4QkdsWEQvOApBQzU4d2pDczF4TUY1QXVDaUpEdUpSckJ4Ni9aQnE3U0g3NXMrd0hVVzFLVVVVd09xbXBJUVZLVlM1djJZUW1NCkVVWC9xeEZIN3R2TTJMNVJGellkWEtodnQwVHVrZVlOU0k5TlVBK2JrTUNqcy8zbElaUjZaSjVsZkJaV08wbWIKdkN6ajlKZ0JIc3UyWWhjMTVDbU5makdLYkZCbTVIczE5UVlPT1FJREFRQUJBb0lCQVFDZXJ5S3pUTitSc0UwaworVllCQmtMY2JYSVdsSFVxODdIcmwrWTFLcm5EQytmUUk3SnU3ZEwvbXg5R2RXeWJ4b2JrWXlEZ0EzUHdSWGgwCldDN2k2MEplanprWmdHS2ZVc2IxaDg1amRpa1Y2WGFzcmxMa3ZVZVl0NFhwOCt2OUtOSWRQVmYvZnVBNFcvRlcKc0h2SkdqQkFHWmV2U1U4ZnROL3lGYzZWMGtGVndxN1JvdFA0WkJIcVVPMDVTOEt5SUZJSXNjb0F2aXFydERibApmZHlmeHlKV2ZZUkZyRkMxS3FjWEIwQ2FLejVMbXU4dEthV20xQ0pOaEpsSGtBNUk1UEJBdSsxNXJOTnZIMThkCmFVVGF0cE5SM3lsTjNYM2NzV0VNMkV4ZFlnWjRSZ1RhVVMrTmNZNllaQVJrMUkrQnpaRWxKZUprbElBc1FkZnkKOG5GYTUzWlJBb0dCQU5EelJITWtIZGNVK25qOHZ4TTVBb2hNK2s4dG1lekZsNDhHV2Z3NWZyY2FuWnIwT0tvdwp0K1J3Q0g2QzNySU1LVXFSb0hXdlR5RGRpTVp5cG5aSnhTWTlURVJkaVdDV2UvYVVCRUtsMjZCeXMwbDNxcFk5Cng2dkhYSzJ6MEJDSlVpUGhFWVhwU1c5ampjNC9CYmUweGVJZG92TUNWYjZtVHRUNDFmbFBiN2FsQW9HQkFNVnEKWWxYUGJvRXE3UG16RkdxLzN2R3phWVQ0OEQyYnhyaGRsSUpEaW8ybmJ2MThCcWZrcWU2UzEwS3lJeTBVa01VRApSTktlR3RWemlNM1kyQTBob2ZmSXdmemM2OVRwa1kxZHJMb2ZpbldqUXdhYnByb0t6SCt2VzF5ejI4NTN4N0hTClVkZ1NQcGZBMm14bWc3M1U2eXZHVnRsVnJZRVpBU1VQd0MwTW5ma0ZBb0dCQU1RU296YlF1MWVyRGVjZWRVYmEKaG0vVW5FWlVhazV1bEd2WDcvVHBGdWxIaG9Gemp3RFZPcHFZTHNCWW1oVEZxTEdhdWRIMU1mR0xNTi9Ya2pFSgp4SUMvb0tPK2lqMGl1U3lIZFAvOWwzeVdaWHNaV2ZBbUJRcEN4OHNRSXJ5QnY1eC9oT3YrSDdUdzNJNmZRUVJFCkZEUzh6cjN1Z1B1b0grMWxtNVNaWUNFcEFvR0FXY2x6NWhGTThpU0MyV0tRZzZpMmpubUtJWGRUVk1IMzFMeUQKSWVmMEtVOGdsTnVHNzI5NXRrOUU1a204NC9ENWt4RlVpUEp0dyswaktIUmFkMFozc3dtMDZQdlZxdVY4Vks1cApNOUhLbUl4am5LcklYczh3aVZaSkdGV1pRRU9NS0owK3FpWktINTBQK3NONVlhcG9OMldpOUlBYVJLQUp2RUI0CnFFU1h5TDBDZ1lBQ1Z3U2dXT2VxSnN4bW5QNU1mZ1RKR2RubjU5V3NNU2JMeEV0dGVJKzlEa1JrSGVTaFlQbVQKYk5mZ1FZRC9LN0k0RTZKeUNJU2ZWaTN4OFBsSWU1RmxWa0tLVEdhbUdJUWplWlJsQlN3Si91ZDl4T2ZBUEJkKwplTVYrWGZ0WUdvOWNGWmZjeCswMmdMZUJ0N3hFejU3LzVYSXBmWElNanMwVGRBQ0dHMHhmZEE9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=\"}'\n\n#docker exec configo_be /bin/sh -c \"apk add git openssh\"\n\n","parentid":112,"myid":0.5668313635154618,"parentName":"actions"},{"grouptype":"action","valuetype":"file","name":"env_startup_docker.sh","type":"single","subtype":"actions","value":"cd {{ SSH_CONNECTION_WORK_DIR }}\ndocker-compose up --build -d\ncd -\n","parentid":112,"myid":0.8866227779337836,"parentName":"actions"},{"grouptype":"action","valuetype":"file","name":"env_shutdown_docker.sh","type":"single","subtype":"actions","value":"cd {{ SSH_CONNECTION_WORK_DIR }}\ndocker-compose down\ndocker stop configius_fe_{{ ENV_ID }}\ndocker rm configius_fe_{{ ENV_ID }}\ndocker stop configius_be_{{ ENV_ID }}\ndocker rm configius_be_{{ ENV_ID }}\ncd -\n","parentid":112,"myid":0.2016250169413254,"parentName":"actions"}]}]}],"chosenAndComposition":{"chosenElements":[],"compositionElements":[]}}